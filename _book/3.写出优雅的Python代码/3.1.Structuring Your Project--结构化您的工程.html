
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>3.1.结构化您的工程 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="3.2.Code Style--代码风格.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    0.介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../1.起步/">
            
                <a href="../1.起步/">
            
                    
                    1.起步
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../2.开发环境/">
            
                <a href="../2.开发环境/">
            
                    
                    2.开发环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    3.写出优雅的Python代码
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.4.1" data-path="3.1.Structuring Your Project--结构化您的工程.html">
            
                <a href="3.1.Structuring Your Project--结构化您的工程.html">
            
                    
                    3.1.结构化您的工程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="3.2.Code Style--代码风格.html">
            
                <a href="3.2.Code Style--代码风格.html">
            
                    
                    3.2.代码风格
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="3.3.Reading Great Code--阅读好的代码.html">
            
                <a href="3.3.Reading Great Code--阅读好的代码.html">
            
                    
                    3.3.阅读好的代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="3.4.Documentation--文档.html">
            
                <a href="3.4.Documentation--文档.html">
            
                    
                    3.4.文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="3.5.Testing Your Code--测试你的代码.html">
            
                <a href="3.5.Testing Your Code--测试你的代码.html">
            
                    
                    3.5.测试你的代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="3.6.Logging--日志.html">
            
                <a href="3.6.Logging--日志.html">
            
                    
                    3.6.日志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="3.7.Common Gotchas--常见陷阱.html">
            
                <a href="3.7.Common Gotchas--常见陷阱.html">
            
                    
                    3.7.常见陷阱
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="3.8.Choosing a License--选择一个许可.html">
            
                <a href="3.8.Choosing a License--选择一个许可.html">
            
                    
                    3.8.选择一个许可
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >3.1.结构化您的工程</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p><em>By &quot;structure&quot; we mean the decisions you make concerning how your project best meets its objective. We need to consider how to best leverage Python&apos;s features to create clean, effective code. In practical terms, &quot;structure&quot; means making clean code whose logic and dependencies are clear as well as how the files and folders are organized in the filesystem.</em></p>
<p>&#x6211;&#x4EEC;&#x6240;&#x8BF4;&#x7684;&#x201C;&#x7ED3;&#x6784;&#x5316;&#x201D;&#x662F;&#x6307;&#x5982;&#x4F55;&#x4F7F;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x6700;&#x597D;&#x7684;&#x6EE1;&#x8DB3;&#x4ED6;&#x7684;&#x5BF9;&#x8C61;&#x6027;&#x3002; &#x6211;&#x4EEC;&#x9700;&#x8981;&#x8003;&#x8651;
&#x5982;&#x4F55;&#x6700;&#x597D;&#x5730;&#x5229;&#x7528;Python&#x7684;&#x529F;&#x80FD;&#x6765;&#x521B;&#x5EFA;&#x7B80;&#x6D01;&#x3001;&#x9AD8;&#x6548;&#x7684;&#x4EE3;&#x7801;&#x3002; &#x5728;&#x5B9E;&#x8DF5;&#x5C42;&#x9762;&#xFF0C;&#x201C;&#x7ED3;&#x6784;&#x5316;&#x201D;&#x662F;&#x6307;&#x901A;&#x8FC7;&#x7F16;&#x5199;&#x7B80;&#x6D01;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5E76;&#x4E14;&#x6B63;&#x5982;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#x7684;&#x7EC4;&#x7EC7;&#x4E00;&#x6837;&#xFF0C; &#x4EE3;&#x7801;&#x5E94;&#x8BE5;&#x4F7F;&#x903B;&#x8F91;&#x548C;&#x4F9D;&#x8D56;&#x6E05;&#x6670;&#x3002;</p>
<p><em>Which functions should go into which modules? How does data flow through the project? What features and functions can be grouped together and isolated? By answering questions like these you can begin to plan, in a broad sense, what your finished product will look like.</em></p>
<p>&#x54EA;&#x4E9B;&#x51FD;&#x6570;&#x5E94;&#x8BE5;&#x653E;&#x5165;&#x54EA;&#x4E9B;&#x6A21;&#x5757;&#xFF1F;&#x9879;&#x76EE;&#x7684;&#x6570;&#x636E;&#x6D41;&#x662F;&#x600E;&#x4E48;&#x6837;&#x7684;&#xFF1F;&#x54EA;&#x4E9B;&#x7279;&#x6027;&#x548C;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x88AB;&#x5206;&#x7EC4;&#x548C;&#x9694;&#x79BB;&#xFF1F;&#x901A;&#x8FC7;&#x56DE;&#x7B54;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x505A;&#x4E00;&#x4E2A;&#x8BA1;&#x5212;&#xFF0C;&#x5927;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;&#x5373;&#x662F;&#x60A8;&#x7684;&#x6700;&#x7EC8;&#x4EA7;&#x54C1; &#x770B;&#x8D77;&#x6765;&#x4F1A;&#x662F;&#x600E;&#x6837;&#x7684;&#x3002;</p>
<p><em>In this section we take a closer look at Python&#x2019;s module and import systems as they are the central elements to enforcing structure in your project. We then discuss various perspectives on how to build code which can be extended and tested reliably.</em></p>
<p>&#x5728;&#x672C;&#x7AE0;&#x8282;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x6DF1;&#x5165;&#x7814;&#x7A76;Python&#x7684;&#x6A21;&#x5757;&#x548C;&#x5BFC;&#x5165;&#x7CFB;&#x7EDF;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x662F;&#x52A0;&#x5F3A;&#x60A8; &#x7684;&#x9879;&#x76EE;&#x7ED3;&#x6784;&#x5316;&#x7684;&#x5173;&#x952E;&#x56E0;&#x7D20;&#xFF0C;&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x4F1A;&#x4ECE;&#x4E0D;&#x540C;&#x5C42;&#x9762;&#x53BB;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x53BB;&#x6784;&#x5EFA;&#x53EF;&#x6269;&#x5C55;&#x4E14;&#x6D4B;&#x8BD5; &#x53EF;&#x9760;&#x7684;&#x7684;&#x4EE3;&#x7801;&#x3002;</p>
<p>[TOC]</p>
<h1 id="structure-of-the-repository-&#x4EE3;&#x7801;&#x5E93;&#x7684;&#x7ED3;&#x6784;">Structure of the Repository &#x4EE3;&#x7801;&#x5E93;&#x7684;&#x7ED3;&#x6784;</h1>
<h2 id="its-important-&#x8FD9;&#x4E00;&#x70B9;&#x5F88;&#x91CD;&#x8981;">It&#x2019;s Important &#x8FD9;&#x4E00;&#x70B9;&#x5F88;&#x91CD;&#x8981;</h2>
<p><em>Just as Code Style, API Design, and Automation are essential for a healthy development cycle, Repository structure is a crucial part of your project&#x2019;s architecture.</em></p>
<p>&#x5728;&#x4E00;&#x4E2A;&#x5065;&#x5EB7;&#x7684;&#x5F00;&#x53D1;&#x5468;&#x671F;&#x4E2D;&#xFF0C;&#x4EE3;&#x7801;&#x98CE;&#x683C;&#xFF0C;API&#x8BBE;&#x8BA1;&#x548C;&#x81EA;&#x52A8;&#x5316;&#x662F;&#x975E;&#x5E38;&#x5173;&#x952E;&#x7684;&#x3002;&#x540C;&#x6837;&#x7684;&#xFF0C;&#x5BF9;&#x4E8E;&#x5DE5;&#x7A0B;&#x7684; &#x67B6;&#x6784; ,&#x4ED3;&#x5E93;&#x7684;&#x7ED3;&#x6784;&#x4E5F;&#x662F;&#x5173;&#x952E;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;</p>
<p><em>When a potential user or contributor lands on your repository&#x2019;s page, they see a few things:</em></p>
<p>&#x5F53;&#x4E00;&#x4E2A;&#x6F5C;&#x5728;&#x7528;&#x6237;&#x6216;&#x8005;&#x8D21;&#x732E;&#x8005;&#x6D4F;&#x89C8;&#x4F60;&#x7684;&#x4ED3;&#x5E93;&#x4E3B;&#x9875;&#x65F6;,&#x4ED6;&#x4EEC;&#x4F1A;&#x770B;&#x5230;&#x8FD9;&#x4E9B;&#x4E1C;&#x897F;:</p>
<ul>
<li>Project Name(&#x9879;&#x76EE;&#x540D;&#x79F0;)</li>
<li>Project Description(&#x9879;&#x76EE;&#x63CF;&#x8FF0;)</li>
<li>Bunch O&#x2019; Files(&#x4E00;&#x5806;&#x6587;&#x4EF6;)</li>
</ul>
<p><em>Only when they scroll below the fold will the user see your project&#x2019;s README.</em></p>
<p>&#x7528;&#x6237;&#x53EA;&#x6709;&#x5C06;&#x6EDA;&#x52A8;&#x8C03;&#x62C9;&#x5230;&#x6700;&#x4E0B;&#x9762;&#x624D;&#x80FD;&#x770B;&#x5230;&#x9879;&#x76EE;&#x7684;&#x8BF4;&#x660E;&#x3002;</p>
<p><em>If your repo is a massive dump of files or a nested mess of directories, they might look elsewhere before even reading your beautiful documentation.</em></p>
<p>&#x5982;&#x679C;&#x60A8;&#x7684;&#x4ED3;&#x5E93;&#x7684;&#x76EE;&#x5F55;&#x662F;&#x4E00;&#x56E2;&#x7CDF;&#xFF0C;&#x6CA1;&#x6709;&#x6E05;&#x6670;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x4ED6;&#x4EEC;&#x53EF;&#x80FD;&#x8981;&#x5230;&#x5904;&#x5BFB;&#x627E;&#x624D;&#x80FD;&#x627E;&#x5230;&#x60A8;&#x5199;&#x7684;&#x6F02;&#x4EAE;&#x7684;&#x6587;&#x6863;&#x3002;</p>
<p><em>Dress for the job you want, not the job you have.</em></p>
<p>&#x4E3A;&#x60A8;&#x7684;&#x6E34;&#x671B;&#x7684;&#x4E8B;&#x4E1A;&#x800C;&#x594B;&#x6597;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4EC5;&#x4EC5;&#x53EA;&#x4E3A;&#x60A8;&#x73B0;&#x5728;&#x7684;&#x5DE5;&#x4F5C;&#x800C;&#x5DE5;&#x4F5C;&#x3002;</p>
<p><em>Of course, first impressions aren&#x2019;t everything. You and your colleagues will spend countless hours working with this repository, eventually becoming intimately familiar with every nook and cranny. The layout of it is important.</em></p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x7B2C;&#x4E00;&#x5370;&#x8C61;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x5207;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x60A8;&#x548C;&#x60A8;&#x7684;&#x540C;&#x4E8B;&#x4F1A;&#x548C;&#x8FD9;&#x4E2A;&#x4ED3;&#x5E93;&#x5E76;&#x80A9;&#x6218;&#x6597;&#x5F88;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x4F1A;&#x719F;&#x6089;&#x5B83;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x89D2;&#x843D;&#x548C;&#x7EC6;&#x8282;&#x3002;&#x62E5;&#x6709;&#x826F;&#x597D;&#x7684;&#x5E03;&#x5C40;&#xFF0C;&#x4E8B;&#x534A;&#x529F;&#x500D;&#x3002;</p>
<h2 id="sample-repository">Sample Repository</h2>
<ul>
<li>This is what Kenneth Reitz recommends.*</li>
</ul>
<p>&#x8FD9;&#x662F; <a href="http://kennethreitz.org" target="_blank">Kenneth Reitz</a> &#x63A8;&#x8350;&#x7684;&#x3002;<a href="https://github.com/kennethreitz/samplemod." target="_blank">&#x9879;&#x76EE;&#x5730;&#x5740;</a></p>
<pre><code>README.rst
LICENSE
setup.py
requirements.txt
sample/__init__.py
sample/core.py
sample/helpers.py
docs/conf.py
docs/index.rst
tests/test_basic.py
tests/test_advanced.py
</code></pre><p><em>Let&#x2019;s get into some specifics.</em></p>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x8D70;&#x5165;&#x7EC6;&#x8282;&#x3002;</p>
<h3 id="the-actual-module-&#x4E3B;&#x6A21;&#x5757;">The Actual Module &#x4E3B;&#x6A21;&#x5757;</h3>
<table>
<thead>
<tr>
<th>Location(&#x4F4D;&#x7F6E;)</th>
<th style="text-align:center">./sample/ or ./sample.py</th>
</tr>
</thead>
<tbody>
<tr>
<td>Purpose(&#x8BF4;&#x660E;)</td>
<td style="text-align:center">The code of interest(&#x4E3B;&#x4EE3;&#x7801;)</td>
</tr>
</tbody>
</table>
<p><em>Your module package is the core focus of the repository. It should not be tucked away:</em></p>
<p>&#x4F60;&#x7684;&#x6A21;&#x5757;&#x5305;&#x662F;&#x4ED3;&#x5E93;&#x7684;&#x6838;&#x5FC3;&#xFF0C;&#x4ED6;&#x4E0D;&#x5E94;&#x8BE5;&#x88AB;&#x9690;&#x85CF;&#x8D77;&#x6765;:</p>
<pre><code>./sample/
</code></pre><p><em>If your module consists of only a single file, you can place it directly in the root of your repository:</em></p>
<p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x6A21;&#x5757;&#x53EA;&#x5305;&#x542B;&#x5355;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5C06;&#x5B83;&#x76F4;&#x63A5;&#x653E;&#x5230;&#x4ED3;&#x5E93;&#x7684;&#x6839;&#x76EE;&#x5F55;:</p>
<pre><code>./sample.py
</code></pre><p><em>Your library does not belong in an ambiguous src or python subdirectory.</em></p>
<p>&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x6587;&#x4EF6;&#x4E0D;&#x5E94;&#x8BE5;&#x5C5E;&#x4E8E;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x6A21;&#x68F1;&#x4E24;&#x53EF;&#x7684;&#x76EE;&#x5F55;&#x6216;&#x8005;python&#x5B50;&#x76EE;&#x5F55;&#x3002;</p>
<h3 id="license">License</h3>
<table>
<thead>
<tr>
<th>Location(&#x4F4D;&#x7F6E;)</th>
<th style="text-align:center">./LICENSE</th>
</tr>
</thead>
<tbody>
<tr>
<td>Purpose(&#x8BF4;&#x660E;)</td>
<td style="text-align:center">Lawyering up.(&#x8BB8;&#x53EF;&#x8BC1;)</td>
</tr>
</tbody>
</table>
<p><em>This is arguably the most important part of your repository, aside from the source code itself. The full license text and copyright claims should exist in this file.</em></p>
<p>&#x9664;&#x4E86;&#x6E90;&#x4EE3;&#x7801;&#x672C;&#x8EAB;&#x4E4B;&#x5916;&#xFF0C;&#x8FD9;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x60A8;&#x5B58;&#x50A8;&#x5E93;&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x7684;&#x90E8;&#x5206;&#x3002; &#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x5E94;&#x8BE5;&#x6709;&#x5B8C;&#x6574;&#x7684;&#x8BB8;&#x53EF;&#x8BF4;&#x660E;&#x548C;&#x6388;&#x6743;&#x3002;</p>
<p><em>If you aren&#x2019;t sure which license you should use for your project, check out choosealicense.com.</em></p>
<p>&#x5982;&#x679C;&#x60A8;&#x4E0D;&#x786E;&#x5B9A;&#x60A8;&#x7684;&#x9879;&#x76EE;&#x5E94;&#x4F7F;&#x7528;&#x54EA;&#x79CD;&#x8BB8;&#x53EF;&#xFF0C;&#x8BF7;&#x67E5;&#x770B; <a href="http://choosealicense.com" target="_blank">choosealicense.com</a>.</p>
<p><em>Of course, you are also free to publish code without a license, but this would prevent many people from potentially using your code.</em></p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x5730;&#x53D1;&#x5E03;&#x4EE3;&#x7801;&#x800C;&#x65E0;&#x9700;&#x8BB8;&#x53EF;&#x8BC1;&#xFF0C;&#x4F46;&#x6F5C;&#x5728;&#x7684;&#x8FD9;&#x4E5F;&#x4F1A;&#x963B;&#x6B62;&#x5F88;&#x591A;&#x4EBA;
&#x4F7F;&#x7528;&#x4F60;&#x7684;&#x4EE3;&#x7801;&#x3002;</p>
<h3 id="setuppy">Setup.py</h3>
<table>
<thead>
<tr>
<th>Location(&#x4F4D;&#x7F6E;)</th>
<th style="text-align:center">./setup.py</th>
</tr>
</thead>
<tbody>
<tr>
<td>Purpose(&#x8BF4;&#x660E;)</td>
<td style="text-align:center">Package and distribution management.(&#x6253;&#x5305;&#x548C;&#x53D1;&#x5E03;&#x7BA1;&#x7406;)</td>
</tr>
</tbody>
</table>
<p><em>If your module package is at the root of your repository, this should obviously be at the root as well.</em></p>
<p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x6A21;&#x5757;&#x5305;&#x4F4D;&#x4E8E;&#x4ED3;&#x5E93;&#x7684;&#x6839;&#x76EE;&#x5F55;&#xFF0C;&#x663E;&#x7136;&#x8FD9;&#x4E5F;&#x5E94;&#x8BE5;&#x4F4D;&#x4E8E;&#x6839;&#x76EE;&#x5F55;&#x3002;</p>
<h3 id="requirements-file">Requirements File</h3>
<table>
<thead>
<tr>
<th>Location(&#x4F4D;&#x7F6E;)</th>
<th style="text-align:center">./requirements.txt</th>
</tr>
</thead>
<tbody>
<tr>
<td>Purpose(&#x8BF4;&#x660E;)</td>
<td style="text-align:center">Development dependencies.(&#x5F00;&#x53D1;&#x4F9D;&#x8D56;)</td>
</tr>
</tbody>
</table>
<p><em>A pip requirements file should be placed at the root of the repository. It should specify the dependencies required to contribute to the project: testing, building, and generating documentation.</em></p>
<p><a href="https://pip.pypa.io/en/stable/user_guide/#requirements-files" target="_blank">pip&#x4F9D;&#x8D56;&#x6587;&#x4EF6;</a>&#x5E94;&#x8BE5;&#x4F4D;&#x4E8E;&#x4ED3;&#x5E93;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x3002;&#x5B83;&#x5E94;&#x8BE5;&#x6307;&#x660E;&#x9879;&#x76EE;&#x6240;&#x6709;&#x7684;&#x4F9D;&#x8D56;&#x6587;&#x4EF6;:&#x6D4B;&#x8BD5;,&#x7F16;&#x8BD1;&#xFF0C;&#x548C;&#x751F;&#x6210;&#x6587;&#x6863;&#x3002;</p>
<p><em>If your project has no development dependencies, or you prefer development environment setup via setup.py, this file may be unnecessary.</em></p>
<p>&#x5982;&#x679C;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x6CA1;&#x6709;&#x5F00;&#x53D1;&#x4F9D;&#x8D56;&#x6216;&#x8005;&#x4F60;&#x66F4;&#x559C;&#x6B22;&#x901A;&#x8FC7;<em>setup.py</em>&#x8BBE;&#x7F6E;&#x5F00;&#x53D1;&#x73AF;&#x5883;,&#x90A3;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x53EF;&#x80FD;&#x4E0D;&#x662F;&#x5FC5;&#x8981;&#x7684;&#x3002;</p>
<h3 id="documentation">Documentation</h3>
<table>
<thead>
<tr>
<th>Location(&#x4F4D;&#x7F6E;)</th>
<th style="text-align:center">./docs/</th>
</tr>
</thead>
<tbody>
<tr>
<td>Purpose(&#x8BF4;&#x660E;)</td>
<td style="text-align:center">Package reference documentation.(&#x8F6F;&#x4EF6;&#x5305;&#x7684;&#x8BF4;&#x660E;&#x6587;&#x6863;)</td>
</tr>
</tbody>
</table>
<p><em>There is little reason for this to exist elsewhere.</em></p>
<p>&#x8FD9;&#x6CA1;&#x6709;&#x7406;&#x7531;&#x653E;&#x5728;&#x522B;&#x7684;&#x76EE;&#x5F55;&#x3002;</p>
<h3 id="test-suite">Test Suite</h3>
<p><em>For advice on writing your tests, see :doc:&#x2018;writing/tests&#x2018;.</em></p>
<p>&#x6709;&#x5173;&#x7F16;&#x5199;&#x6D4B;&#x8BD5;&#x7684;&#x5EFA;&#x8BAE;&#xFF0C;&#x8BF7;&#x53C2;&#x9605;&#xFF1A;doc&#xFF1A;&apos;&#x5199;&#x5165;/&#x6D4B;&#x8BD5;&apos;&#x3002;</p>
<table>
<thead>
<tr>
<th>Location(&#x4F4D;&#x7F6E;)</th>
<th style="text-align:center">./test_sample.py or ./tests</th>
</tr>
</thead>
<tbody>
<tr>
<td>Purpose(&#x8BF4;&#x660E;)</td>
<td style="text-align:center">Package integration and unit tests.(&#x5305;&#x7684;&#x96C6;&#x6210;&#x548C;&#x5355;&#x5143;&#x6D4B;&#x8BD5;)</td>
</tr>
</tbody>
</table>
<p><em>Starting out, a small test suite will often exist in a single file:</em></p>
<p>&#x5F00;&#x59CB;&#x9636;&#x6BB5;&#xFF0C;&#x4E00;&#x7EC4;&#x6D4B;&#x8BD5;&#x901A;&#x5E38;&#x4F1A;&#x5B58;&#x5728;&#x4E8E;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF1A;</p>
<pre><code>./test_sample.py
</code></pre><p><em>Once a test suite grows, you can move your tests to a directory, like so:</em></p>
<p>&#x5F53;&#x6D4B;&#x8BD5;&#x4F8B;&#x5B50;&#x5FEB;&#x901F;&#x589E;&#x52A0;&#x65F6;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5C06;&#x5B83;&#x79FB;&#x5165;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x5C31;&#x50CF;&#x8FD9;&#x6837;:</p>
<pre><code>tests/test_basic.py
tests/test_advanced.py
</code></pre><p><em>Obviously, these test modules must import your packaged module to test it. You can do this a few ways:</em></p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x6D4B;&#x8BD5;&#x6A21;&#x5757;&#x5FC5;&#x987B;&#x5BFC;&#x5165;&#x4F60;&#x7684;&#x5305;&#x6A21;&#x5757;&#x6765;&#x6D4B;&#x8BD5;&#x5B83;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x6309;&#x5982;&#x4E0B;&#x65B9;&#x5F0F;&#x64CD;&#x4F5C;:</p>
<ul>
<li><p>Expect the package to be installed in site-packages.(&#x5C06;&#x60A8;&#x7684;&#x5305;&#x5B89;&#x88C5;&#x5230; site-packages )</p>
</li>
<li><p>Use a simple (but explicit) path modification to resolve the package properly.&#x901A;&#x8FC7;&#x7B80;&#x5355;&#x76F4;&#x63A5;&#x7684;&#x8DEF;&#x5F84;&#x8BBE;&#x7F6E;&#x6765;&#x89E3;&#x51B3;&#x5BFC;&#x5165;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
</li>
</ul>
<p><em>I highly recommend the latter. Requiring a developer to run setup.py develop to test an actively changing codebase also requires them to have an isolated environment setup for each instance of the codebase.</em></p>
<p>&#x6211;&#x6781;&#x529B;&#x63A8;&#x8350;&#x540E;&#x8005;&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528; <em>setup.py</em> &#x6587;&#x4EF6;&#x6765;&#x6D4B;&#x8BD5;&#x4E00;&#x4E2A;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#x7684;&#x4EE3;&#x7801;&#x5E93;&#xFF0C;&#x9700;&#x8981;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x7684;&#x4EE3;&#x7801;&#x5E93;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;.&#x592A;&#x9EBB;&#x70E6;&#x4E86;</p>
<p><em>To give the individual tests import context, create a tests/context.py file:</em></p>
<p>&#x53EF;&#x4EE5;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x4E0A;&#x4E0B;&#x6587;&#x73AF;&#x5883;&#x7684;&#x6587;&#x4EF6;<em>tests/context.py</em>:</p>
<pre><code>import os
import sys
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), &apos;..&apos;)))
import sample
</code></pre><p><em>Then, within the individual test modules, import the module like so:</em></p>
<p>&#x7136;&#x540E;,&#x5728;&#x6BCF;&#x4E2A;&#x6D4B;&#x8BD5;&#x6A21;&#x5757;&#x4E2D;&#x5BFC;&#x5165;:</p>
<pre><code>from .context import sample
</code></pre><p><em>This will always work as expected, regardless of installation method.</em></p>
<p>&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x591F;&#x50CF;&#x671F;&#x5F85;&#x7684;&#x90A3;&#x6837;&#x5DE5;&#x4F5C;&#xFF0C;&#x800C;&#x4E0D;&#x7528;&#x91C7;&#x7528;&#x5B89;&#x88C5;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
<p><em>Some people will assert that you should distribute your tests within your module itself &#x2013; I disagree. It often increases complexity for your users; many test suites often require additional dependencies and runtime contexts.</em></p>
<p>&#x4E00;&#x4E9B;&#x4EBA;&#x4F1A;&#x8BF4;&#x5E94;&#x8BE5;&#x628A;&#x60A8;&#x7684;&#x6D4B;&#x8BD5;&#x4F8B;&#x5B50;&#x653E;&#x5230;&#x60A8;&#x7684;&#x6A21;&#x5757;&#x91CC;&#x9762; &#x2013; &#x6211;&#x4E0D;&#x540C;&#x610F;&#x3002;&#x8FD9;&#x6837;&#x4F1A;&#x589E;&#x52A0;&#x60A8;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x7684;&#x590D;&#x6742;&#x5EA6;&#xFF1B;&#x800C;&#x4E14;&#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;&#x6A21;&#x5757;&#x5C06;&#x5BFC;&#x81F4;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x4F9D;&#x8D56;&#x548C;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x3002;</p>
<h3 id="makefile">Makefile</h3>
<table>
<thead>
<tr>
<th>Location(&#x4F4D;&#x7F6E;)</th>
<th style="text-align:center">./Makefile</th>
</tr>
</thead>
<tbody>
<tr>
<td>Purpose(&#x8BF4;&#x660E;)</td>
<td style="text-align:center">Generic management tasks.(&#x901A;&#x7528;&#x7684;&#x7BA1;&#x7406;&#x4EFB;&#x52A1;)</td>
</tr>
</tbody>
</table>
<p><em>If you look at most of my projects or any Pocoo project, you&#x2019;ll notice a Makefile laying around. Why? These projects aren&#x2019;t written in C... In short, make is a incredibly useful tool for defining generic tasks for your project.</em></p>
<p>&#x5982;&#x679C;&#x60A8;&#x770B;&#x770B;&#x6211;&#x7684;&#x9879;&#x76EE;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#xFF0C;&#x60A8;&#x90FD;&#x4F1A;&#x53D1;&#x73B0;&#x6709;&#x4E00;&#x4E2A;Makefile&#x3002;&#x4E3A;&#x4EC0;&#x4E48;&#xFF1F;&#x8FD9;&#x4E9B;&#x9879;&#x76EE;&#x4E5F;&#x4E0D;&#x662F;&#x7528;C&#x5199;&#x7684;&#x554A;&#x3002;&#x3002;&#x3002;&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;<em>make</em>&#x5BF9;&#x4E8E;&#x5B9A;&#x4E49;&#x5E38;&#x89C4;&#x7684;&#x7BA1;&#x7406;&#x4EFB;&#x52A1;&#x662F;&#x975E;&#x5E38;&#x6709;&#x7528;&#x7684;&#x5DE5;&#x5177;&#x3002;</p>
<p>Sample Makefile:</p>
<pre><code>init:
    pip install -r requirements.txt
test:
    py.test tests
.PHONY: init test
</code></pre><p><em>Other generic management scripts (e.g. manage.py or fabfile.py) belong at the root of the repository as well.</em></p>
<p>&#x5176;&#x4ED6;&#x7684;&#x901A;&#x7528;&#x7BA1;&#x7406;&#x811A;&#x672C;(&#x5982;<em>manage.py</em>,<em>fabfile.py</em>)&#x4E5F;&#x5F52;&#x5C5E;&#x4E8E;&#x4ED3;&#x5E93;&#x7684;&#x6839;&#x76EE;&#x5F55;&#x3002;</p>
<h2 id="regarding-django-applications-&#x5173;&#x4E8E;-django-&#x5E94;&#x7528;">Regarding Django Applications &#x5173;&#x4E8E; Django &#x5E94;&#x7528;</h2>
<p><em>I&#x2019;ve noticed a new trend in Django applications since the release of Django 1.4. Many developers are structuring their repositories poorly due to the new bundled application templates.</em></p>
<p>&#x4ECE;Django 1.4&#x5F00;&#x59CB;&#xFF0C;&#x6211;&#x53D1;&#x73B0;&#x6709;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x73B0;&#x8C61;&#xFF1A;&#x5F88;&#x591A;&#x5F00;&#x53D1;&#x8005;&#x9519;&#x8BEF;&#x5730;&#x4F7F;&#x7528;Django&#x81EA;&#x5E26;&#x7684;&#x5E94;&#x7528;&#x6A21;&#x677F;&#x521B;&#x5EFA;&#x9879;&#x76EE;&#xFF0C;&#x5BFC;&#x81F4;&#x4ED6;&#x4EEC;&#x7684;&#x4ED3;&#x5E93;&#x7ED3;&#x6784;&#x975E;&#x5E38;&#x7CDF;&#x7CD5;&#x3002;</p>
<p><em>How? Well, they go to their bare and fresh repository and run the following, as they always have:</em></p>
<p>&#x8FD9;&#x662F;&#x600E;&#x4E48;&#x56DE;&#x4E8B;&#x513F;? &#x662F;&#x7684;, &#x4ED6;&#x4EEC;&#x5728;&#x8FDB;&#x5165;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4ED3;&#x5E93;&#x540E;&#xFF0C;&#x901A;&#x5E38;&#x90FD;&#x8FD9;&#x6837;&#x64CD;&#x4F5C;&#xFF1A;</p>
<pre><code>$ django-admin.py startproject samplesite
</code></pre><p><em>The resulting repository structure looks like this:</em></p>
<p>&#x8FD9;&#x6837;&#x7684;&#x64CD;&#x4F5C;&#x751F;&#x6210;&#x7684;&#x4ED3;&#x5E93;&#x7ED3;&#x6784;&#x662F;&#x8FD9;&#x6837;&#x7684;:</p>
<pre><code>README.rst
samplesite/manage.py
samplesite/samplesite/settings.py
samplesite/samplesite/wsgi.py
samplesite/samplesite/sampleapp/models.p
</code></pre><p>Don&#x2019;t do this.(&#x4E0D;&#x8981;&#x8FD9;&#x6837;&#x505A;)</p>
<p><em>Repetitive paths are confusing for both your tools and your developers. Unnecessary nesting doesn&#x2019;t help anybody (unless they&#x2019;re nostalgic for monolithic SVN repos).</em></p>
<p>&#x91CD;&#x590D;&#x7684;&#x8DEF;&#x5F84;&#x4F1A;&#x8BA9;&#x4F60;&#x7684;&#x5DE5;&#x5177;&#x548C;&#x5F00;&#x53D1;&#x8005;&#x611F;&#x5230;&#x56F0;&#x60D1;&#xFF0C;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x5D4C;&#x5957;&#x6BEB;&#x65E0;&#x5E2E;&#x7EC4;(&#x9664;&#x975E;&#x4ED6;&#x4EEC;&#x8FD8;&#x5728;&#x4F7F;&#x7528;&#x5355;&#x4E00;&#x800C;&#x5E9E;&#x5927;&#x7684;SVN&#x5E93;&#x3002;)</p>
<p><em>Let&#x2019;s do it properly:</em>
&#x8BA9;&#x6211;&#x4EEC;&#x8FD9;&#x6837;&#x6765;&#x505A;:</p>
<pre><code>$ django-admin.py startproject samplesite .
</code></pre><p>Note the &#x201C;.&#x201D;. The resulting structure:
&#x6CE8;&#x610F;&#x8FD9;&#x4E2A; <em>.</em>,&#x751F;&#x6210;&#x7684;&#x7ED3;&#x6784;&#x662F;&#x8FD9;&#x6837;&#x7684;:</p>
<pre><code>README.rst
manage.py
samplesite/settings.py
samplesite/wsgi.py
samplesite/sampleapp/models.py
</code></pre><h1 id="structure-of-code-is-key&#x4EE3;&#x7801;&#x7684;&#x7ED3;&#x6784;&#x5316;&#x975E;&#x5E38;&#x91CD;&#x8981;">Structure of Code is Key(&#x4EE3;&#x7801;&#x7684;&#x7ED3;&#x6784;&#x5316;&#x975E;&#x5E38;&#x91CD;&#x8981;)</h1>
<p><em>Thanks to the way imports and modules are handled in Python, it is relatively easy to structure a Python project. Easy, here, means that you do not have many constraints and that the module importing model is easy to grasp. Therefore, you are left with the pure architectural task of crafting the different parts of your project and their interactions.</em></p>
<p>&#x5F97;&#x76CA;&#x4E8E;Python&#x63D0;&#x4F9B;&#x7684;&#x5BFC;&#x5165;&#x4E0E;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x7ED3;&#x6784;&#x5316;Python&#x9879;&#x76EE;&#x53D8;&#x5F97;&#x76F8;&#x5BF9;&#x7B80;&#x5355;&#x3002; &#x8FD9;&#x91CC;&#x8BF4;&#x7684;&#x7B80;&#x5355;&#xFF0C;&#x6307;&#x7684;&#x662F;&#x7ED3;&#x6784;&#x5316;&#x8FC7;&#x7A0B;&#x6CA1;&#x6709;&#x592A;&#x591A;&#x7EA6;&#x675F;&#x9650;&#x5236;&#x800C;&#x4E14;&#x6A21;&#x5757;&#x5BFC;&#x5165;&#x529F;&#x80FD;&#x5BB9;&#x6613;&#x638C;&#x63E1;&#x3002; &#x56E0;&#x800C;&#x60A8;&#x53EA;&#x5269;&#x4E0B;&#x67B6;&#x6784;&#x6027;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x5305;&#x62EC;&#x8BBE;&#x8BA1;&#x3001;&#x5B9E;&#x73B0;&#x9879;&#x76EE;&#x5404;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x5E76;&#x6574;&#x7406;&#x6E05;&#x4ED6;&#x4EEC;&#x4E4B;&#x95F4; &#x7684;&#x4EA4;&#x4E92;&#x5173;&#x7CFB;&#x3002;</p>
<p><em>Easy structuring of a project means it is also easy to do it poorly. Some signs of a poorly structured project include:</em></p>
<p>&#x5BB9;&#x6613;&#x7ED3;&#x6784;&#x5316;&#x7684;&#x9879;&#x76EE;&#x540C;&#x6837;&#x610F;&#x5473;&#x7740;&#x5B83;&#x7684;&#x7ED3;&#x6784;&#x5316;&#x5BB9;&#x6613;&#x505A;&#x5F97;&#x7CDF;&#x7CD5;&#x3002;&#x7CDF;&#x7CD5;&#x7684;&#x7ED3;&#x6784;&#x5305;&#x542B;&#x5982;&#x4E0B;&#x7279;&#x5F81;&#xFF1A;</p>
<ul>
<li><p><em>Multiple and messy circular dependencies: if your classes Table and Chair in <code>furn.py</code> need to import Carpenter from <code>workers.py</code> to answer a question such as <code>table.isdoneby()</code>, and if conversely the class Carpenter needs to import Table and Chair, to answer the question <code>carpenter.whatdo()</code>, then you have a circular dependency. In this case you will have to resort to fragile hacks such as using import statements inside methods or functions.</em>
&#x591A;&#x91CD;&#x4E14;&#x6DF7;&#x4E71;&#x7684;&#x5FAA;&#x73AF;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF1A;&#x5047;&#x5982;&#x5728; <code>furn.py</code> &#x5185;&#x7684;Table&#x4E0E;Chair&#x7C7B;&#x9700;&#x8981; &#x5BFC;&#x5165; <code>workers.py</code> &#x4E2D;&#x7684;Carpenter&#x7C7B;&#x4EE5;&#x56DE;&#x7B54;&#x7C7B;&#x4F3C; <code>table.isdoneby()</code> &#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5E76;&#x4E14;Carpenter&#x7C7B;&#x9700;&#x8981;&#x5F15;&#x5165;Table&#x548C;Chair&#x7C7B;&#x4EE5;&#x56DE;&#x7B54; <code>carpenter.whatdo()</code> &#x8FD9;&#x7C7B;&#x95EE;&#x9898;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x4E00;&#x79CD;&#x5FAA;&#x73AF;&#x4F9D;&#x8D56;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;,&#x60A8;&#x5F97;&#x501F;&#x52A9;&#x4E00;&#x4E9B;&#x4E0D;&#x600E;&#x4E48;&#x9760;&#x8C31;&#x7684; &#x5C0F;&#x6280;&#x5DE7;&#xFF0C;&#x6BD4;&#x5982;&#x5728;&#x65B9;&#x6CD5;&#x6216;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x4F7F;&#x7528;import&#x8BED;&#x53E5;&#x3002;</p>
</li>
<li><p><em>Hidden coupling: each and every change in Table&#x2019;s implementation breaks 20 tests in unrelated test cases because it breaks Carpenter&#x2019;s code, which requires very careful surgery to adapt the change. This means you have too many assumptions about Table in Carpenter&#x2019;s code or the reverse.</em>
&#x9690;&#x542B;&#x8026;&#x5408;&#xFF1A;Table&#x7C7B;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x4E2D;&#x6BCF;&#x4E00;&#x4E2A;&#x6539;&#x53D8;&#x90FD;&#x4F1A;&#x6253;&#x7834;20&#x4E2A;&#x4E0D;&#x76F8;&#x5173;&#x7684;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#xFF0C;&#x7531;&#x4E8E;&#x5B83; &#x5F71;&#x54CD;&#x4E86;Carpenter&#x7C7B;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x8FD9;&#x8981;&#x6C42;&#x8C28;&#x614E;&#x5730;&#x64CD;&#x4F5C;&#x4EE5;&#x9002;&#x5E94;&#x6539;&#x53D8;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x60C5;&#x51B5;&#x610F;&#x5473;&#x7740; Carpenter&#x7C7B;&#x4EE3;&#x7801;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x592A;&#x591A;&#x5173;&#x4E8E;Table&#x7C7B;&#x7684;&#x5047;&#x8BBE;&#x5173;&#x8054;&#xFF08;&#x6216;&#x76F8;&#x53CD;&#xFF09;&#x3002;</p>
</li>
<li><p>Heavy usage of global state or context: instead of explicitly passing (height, width, type, wood) to each other, Table and Carpenter rely on global variables that can be modified and are modified on the fly by different agents. You need to scrutinize all access to these global variables to understand why a rectangular
table became a square, and discover that remote template code is also modifying this context, messing with table dimensions.
&#x5927;&#x91CF;&#x4F7F;&#x7528;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x6216;&#x4E0A;&#x4E0B;&#x6587;&#xFF1A;&#x5982;&#x679C;Table&#x548C;Carpenter&#x7C7B;&#x4F7F;&#x7528;&#x4E0D;&#x4EC5;&#x80FD;&#x88AB;&#x4FEE;&#x6539;&#x800C;&#x4E14;&#x80FD;&#x88AB; &#x4E0D;&#x540C;&#x5F15;&#x7528;&#x4FEE;&#x6539;&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x660E;&#x786E;&#x5730;&#x4F20;&#x9012; (height, width, type, wood) &#x53D8;&#x91CF;&#x3002;&#x60A8;&#x5C31;&#x9700;&#x8981;&#x5F7B;&#x5E95;&#x68C0;&#x67E5;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x7684;&#x6240;&#x6709;&#x5165;&#x53E3;&#xFF0C;&#x6765;&#x7406;&#x89E3;&#x5230;&#x4E3A;&#x4EC0;&#x4E48;&#x4E00;&#x4E2A;&#x957F;&#x65B9;&#x5F62;&#x684C;&#x5B50;&#x53D8; &#x6210;&#x4E86;&#x6B63;&#x65B9;&#x5F62;&#xFF0C;&#x6700;&#x540E;&#x53D1;&#x73B0;&#x8FDC;&#x7A0B;&#x7684;&#x6A21;&#x677F;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#x4E86;&#x8FD9;&#x4EFD;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x5F04;&#x9519;&#x4E86;&#x684C;&#x5B50;&#x5C3A;&#x5BF8;&#x89C4;&#x683C;&#x7684; &#x5B9A;&#x4E49;&#x3002;</p>
</li>
<li><p>Spaghetti code: multiple pages of nested if clauses and for loops with a lot of copy-pasted procedural code and no proper segmentation are known as spaghetti code. Python&#x2019;s meaningful indentation (one of its most controversial features) make it very hard to maintain this kind of code. So the good news is that you might not see too much of it.
&#x9762;&#x6761;&#x5F0F;&#x4EE3;&#x7801; (Spaghetti code) &#xFF1A;&#x591A;&#x9875;&#x5D4C;&#x5957;&#x7684;if&#x8BED;&#x53E5;&#x4E0E;for&#x5FAA;&#x73AF;&#xFF0C;&#x5305;&#x542B;&#x5927;&#x91CF;&#x590D;&#x5236;-&#x7C98;&#x8D34; &#x7684;&#x8FC7;&#x7A0B;&#x4EE3;&#x7801;&#xFF0C;&#x4E14;&#x6CA1;&#x6709;&#x5408;&#x9002;&#x7684;&#x5206;&#x5272;&#x2014;&#x2014;&#x8FD9;&#x6837;&#x7684;&#x4EE3;&#x7801;&#x88AB;&#x79F0;&#x4E3A;&#x9762;&#x6761;&#x5F0F;&#x4EE3;&#x7801;&#x3002;Python&#x4E2D;&#x6709;&#x610F;&#x601D; &#x7684;&#x7F29;&#x8FDB;&#x6392;&#x7248;(&#x6700;&#x5177;&#x4E89;&#x8BAE;&#x7684;&#x7279;&#x6027;&#x4E4B;&#x4E00;)&#x4F7F;&#x9762;&#x6761;&#x5F0F;&#x4EE3;&#x7801;&#x5F88;&#x96BE;&#x7EF4;&#x6301;&#x3002;&#x6240;&#x4EE5;&#x597D;&#x6D88;&#x606F;&#x662F;&#x60A8;&#x4E5F;&#x8BB8;&#x4E0D; &#x4F1A;&#x7ECF;&#x5E38;&#x770B;&#x5230;&#x8FD9;&#x79CD;&#x9762;&#x6761;&#x5F0F;&#x4EE3;&#x7801;&#x3002;</p>
</li>
<li><p>Ravioli code is more likely in Python: it consists of hundreds of similar little pieces of logic, often classes or objects, without proper structure. If you never can remember if you have to use FurnitureTable, AssetTable or Table, or even TableNew for your task at hand, you might be swimming in ravioli code.
Python&#x4E2D;&#x66F4;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x6DF7;&#x6C8C;&#x4EE3;&#x7801;&#xFF1A;&#x8FD9;&#x7C7B;&#x4EE3;&#x7801;&#x5305;&#x542B;&#x4E0A;&#x767E;&#x6BB5;&#x76F8;&#x4F3C;&#x7684;&#x903B;&#x8F91;&#x788E;&#x7247;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x7F3A;&#x4E4F; &#x5408;&#x9002;&#x7ED3;&#x6784;&#x7684;&#x7C7B;&#x6216;&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x59CB;&#x7EC8;&#x5F04;&#x4E0D;&#x6E05;&#x624B;&#x5934;&#x4E0A;&#x7684;&#x4EFB;&#x52A1;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;FurnitureTable&#xFF0C; AssetTable&#x8FD8;&#x662F;Table&#xFF0C;&#x751A;&#x81F3;TableNew&#xFF0C;&#x4E5F;&#x8BB8;&#x60A8;&#x5DF2;&#x7ECF;&#x9677;&#x5165;&#x4E86;&#x6DF7;&#x6C8C;&#x4EE3;&#x7801;&#x4E2D;&#x3002;</p>
</li>
</ul>
<h1 id="modules-&#x6A21;&#x5757;">Modules &#x6A21;&#x5757;</h1>
<p><em>Python modules are one of the main abstraction layers available and probably the most natural one. Abstraction layers allow separating code into parts holding related data and functionality.</em></p>
<p>Python&#x6A21;&#x5757;&#x662F;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x62BD;&#x8C61;&#x5C42;&#x4E4B;&#x4E00;&#xFF0C;&#x5E76;&#x4E14;&#x5F88;&#x53EF;&#x80FD;&#x662F;&#x6700;&#x81EA;&#x7136;&#x7684;&#x4E00;&#x4E2A;&#x3002;&#x62BD;&#x8C61;&#x5C42;&#x5141;&#x8BB8;&#x5C06;&#x4EE3;&#x7801;&#x5206;&#x4E3A; &#x4E0D;&#x540C;&#x90E8;&#x5206;&#xFF0C;&#x6BCF;&#x4E2A;&#x90E8;&#x5206;&#x5305;&#x542B;&#x76F8;&#x5173;&#x7684;&#x6570;&#x636E;&#x4E0E;&#x529F;&#x80FD;&#x3002;</p>
<p><em>For example, a layer of a project can handle interfacing with user actions, while another would handle low-level manipulation of data. The most natural way to separate these two layers is to regroup all interfacing functionality in one file, and all low-level operations in another file. In this case, the interface file needs to import the low-level file. This is done with the <code>import</code> and <code>from ... import</code> statements.</em></p>
<p>&#x4F8B;&#x5982;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x4E00;&#x5C42;&#x63A7;&#x5236;&#x7528;&#x6237;&#x64CD;&#x4F5C;&#x76F8;&#x5173;&#x63A5;&#x53E3;&#xFF0C;&#x53E6;&#x4E00;&#x5C42;&#x5904;&#x7406;&#x5E95;&#x5C42;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#x3002;&#x6700;&#x81EA;&#x7136;&#x5206;&#x5F00;&#x8FD9;&#x4E24; &#x5C42;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#xFF0C;&#x5728;&#x4E00;&#x4EFD;&#x6587;&#x4EF6;&#x91CC;&#x91CD;&#x7EC4;&#x6240;&#x6709;&#x529F;&#x80FD;&#x63A5;&#x53E3;&#xFF0C;&#x5E76;&#x5C06;&#x6240;&#x6709;&#x5E95;&#x5C42;&#x64CD;&#x4F5C;&#x5C01;&#x88C5;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x3002; &#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x63A5;&#x53E3;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x5BFC;&#x5165;&#x5C01;&#x88C5;&#x5E95;&#x5C42;&#x64CD;&#x4F5C;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x901A;&#x8FC7; <code>import</code> &#x548C; <code>from ... import</code> &#x8BED;&#x53E5;&#x5B8C;&#x6210;&#x3002;</p>
<p><em>As soon as you use import statements you use modules. These can be either built-in modules such as <code>os</code> and <code>sys</code>, third-party modules you have installed in your environment, or your project&#x2019;s internal modules.</em></p>
<p>&#x4E00;&#x65E6;&#x60A8;&#x4F7F;&#x7528; <code>import</code> &#x8BED;&#x53E5;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x3002; &#x65E2;&#x53EF;&#x4EE5;&#x662F;&#x5185;&#x7F6E;&#x7684;&#x6A21;&#x5757;&#x5305;&#x62EC; <code>os</code> &#x548C; <code>sys</code>&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x6216;&#x8005;&#x9879;&#x76EE; &#x5185;&#x90E8;&#x7684;&#x6A21;&#x5757;&#x3002;</p>
<p><em>To keep in line with the style guide, keep module names short, lowercase, and be sure to avoid using special symbols like the dot (.) or question mark (?). So a file name like <code>my.spam.py</code> is one you should avoid! Naming this way will interfere with the way Python looks for modules.</em></p>
<p>&#x4E3A;&#x9075;&#x5B88;&#x98CE;&#x683C;&#x6307;&#x5357;&#x4E2D;&#x7684;&#x89C4;&#x5B9A;&#xFF0C;&#x6A21;&#x5757;&#x540D;&#x79F0;&#x8981;&#x77ED;&#x3001;&#x4F7F;&#x7528;&#x5C0F;&#x5199;&#xFF0C;&#x5E76;&#x907F;&#x514D;&#x4F7F;&#x7528;&#x7279;&#x6B8A;&#x7B26;&#x53F7;&#xFF0C;&#x6BD4;&#x5982;&#x70B9;(.) &#x548C;&#x95EE;&#x53F7;(?)&#x3002;&#x5982; <code>my.spam.py</code> &#x8FD9;&#x6837;&#x7684;&#x540D;&#x5B57;&#x662F;&#x5FC5;&#x987B;&#x4E0D;&#x80FD;&#x7528;&#x7684;&#xFF01;&#x8BE5;&#x65B9;&#x5F0F;&#x547D;&#x540D;&#x5C06;&#x59A8;&#x788D; Python&#x7684;&#x6A21;&#x5757;&#x67E5;&#x627E;&#x529F;&#x80FD;&#x3002;</p>
<p><em>In the case of <code>my.spam.py</code> Python expects to find a <code>spam.py</code> file in a folder named <code>my</code> which is not the case. There is an <code>example</code> of how the dot notation should be used in the Python docs.</em></p>
<p>&#x5C31; <code>my.spam.py</code> &#x6765;&#x8BF4;&#xFF0C;Python &#x8BA4;&#x4E3A;&#x9700;&#x8981;&#x5728; my &#x6587;&#x4EF6;&#x5939; &#x4E2D;&#x627E;&#x5230; <code>spam.py</code> &#x6587;&#x4EF6;&#xFF0C;&#x5B9E;&#x9645;&#x5E76;&#x4E0D;&#x662F;&#x8FD9;&#x6837;&#x3002;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50; example &#x5C55;&#x793A;&#x4E86;&#x70B9;&#x8868;&#x793A; &#x6CD5;&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x5728;Python&#x6587;&#x4EF6;&#x4E2D;&#x4F7F;&#x7528;&#x3002;</p>
<p><em>If you&#x2019;d like you could name your module <code>my_spam.py</code>, but even our friend the underscore should not be seen often in module names. However, using other characters (spaces or hyphens) in module names will prevent importing (- is the subtract operator), so try to keep module names short so there is no need to separate words. And, most of all, don&#x2019;t namespace with underscores, use submodules instead.</em></p>
<p>&#x5982;&#x679C;&#x613F;&#x610F;&#x60A8;&#x53EF;&#x4EE5;&#x5C06;&#x6A21;&#x5757;&#x547D;&#x540D;&#x4E3A;<code>my_spam.py</code>&#xFF0C; &#x4E0D;&#x8FC7;&#x5E76;&#x4E0D;&#x63A8;&#x8350;&#x5728;&#x6A21;&#x5757;&#x540D;&#x4E2D;&#x4F7F;&#x7528;&#x4E0B;&#x5212;&#x7EBF;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5728;&#x6A21;&#x5757;&#x540D;&#x79F0;&#x4E2D;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x5B57;&#x7B26;&#xFF08;&#x7A7A;&#x683C;&#x6216;&#x8FDE;&#x5B57;&#x53F7;&#xFF09; &#x5C06;&#x963B;&#x6B62;&#x5BFC;&#x5165;&#xFF08;-&#x662F;&#x51CF;&#x6CD5;&#x8FD0;&#x7B97;&#x7B26;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#x8BF7;&#x5C3D;&#x91CF;&#x4FDD;&#x6301;&#x6A21;&#x5757;&#x540D;&#x79F0;&#x7B80;&#x5355;&#xFF0C;&#x4EE5;&#x65E0;&#x9700;&#x5206;&#x5F00;&#x5355;&#x8BCD;&#x3002; &#x6700;&#x91CD;&#x8981;&#x7684;&#x662F;&#xFF0C;&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#x4E0B;&#x5212;&#x7EBF;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528;&#x5B50;&#x6A21;&#x5757;&#x3002;</p>
<pre><code># OK
import library.plugin.foo
# not OK
import library.foo_plugin
</code></pre><p><em>Aside from some naming restrictions, nothing special is required for a Python file to be a module, but you need to understand the import mechanism in order to use this concept properly and avoid some issues.</em></p>
<p>&#x9664;&#x4E86;&#x4EE5;&#x4E0A;&#x7684;&#x547D;&#x540D;&#x9650;&#x5236;&#x5916;&#xFF0C;Python&#x6587;&#x4EF6;&#x6210;&#x4E3A;&#x6A21;&#x5757;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x7279;&#x6B8A;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x4F46;&#x4E3A;&#x4E86;&#x5408;&#x7406;&#x5730;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x89C2;&#x5FF5;&#x5E76;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#xFF0C;&#x60A8;&#x9700;&#x8981;&#x7406;&#x89E3;import&#x7684;&#x539F;&#x7406;&#x673A;&#x5236;&#x3002;</p>
<p><em>Concretely, the <code>import modu</code> statement will look for the proper file, which is <code>modu.py</code> in the same directory as
the caller if it exists. If it is not found, the Python interpreter will search for <code>modu.py</code> in the &#x201C;path&#x201D; recursively and
raise an <code>ImportError</code> exception if it is not found.</em></p>
<p>&#x5177;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;<code>import modu</code> &#x8BED;&#x53E5;&#x5C06;&#x5BFB;&#x627E;&#x5408;&#x9002;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5373;&#x8C03;&#x7528;&#x76EE;&#x5F55;&#x4E0B;&#x7684; modu.py &#x6587;&#x4EF6;&#xFF08;&#x5982;&#x679C;&#x8BE5;&#x6587;&#x4EF6;&#x5B58;&#x5728;&#xFF09;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x627E;&#x5230;&#xFF0C;Python&#x89E3;&#x91CA;&#x5668;&#x9012;&#x5F52;&#x5730;&#x5728; &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x67E5;&#x627E;&#x8BE5;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x4ECD;&#x6CA1;&#x6709;&#x627E;&#x5230;&#xFF0C;&#x5C06;&#x629B;&#x51FA;<code>ImportError</code>&#x5F02;&#x5E38;&#x3002;</p>
<p><em>Once <code>modu.py</code> is found, the Python interpreter will execute the module in an isolated scope. Any top-level statement in <code>modu.py</code> will be executed, including other imports if any. Function and class definitions are stored in the module&#x2019;s dictionary.</em></p>
<p>&#x4E00;&#x65E6;&#x627E;&#x5230; <code>modu.py</code>&#xFF0C;Python&#x89E3;&#x91CA;&#x5668;&#x5C06;&#x5728;&#x9694;&#x79BB;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x5185;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x3002;&#x6240;&#x6709;&#x9876;&#x5C42; &#x8BED;&#x53E5;&#x90FD;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x5305;&#x62EC;&#x5176;&#x4ED6;&#x7684;&#x5F15;&#x7528;&#x3002;&#x65B9;&#x6CD5;&#x4E0E;&#x7C7B;&#x7684;&#x5B9A;&#x4E49;&#x5C06;&#x4F1A;&#x5B58;&#x50A8;&#x5230;&#x6A21;&#x5757;&#x7684;&#x5B57;&#x5178;&#x4E2D;&#x3002;</p>
<p><em>Then, the module&#x2019;s variables, functions, and classes will be available to the caller through the module&#x2019;s namespace, a central concept in programming that is particularly helpful and powerful in Python.</em></p>
<p>&#x7136;&#x540E;&#xFF0C;&#x8FD9;&#x4E2A; &#x6A21;&#x5757;&#x7684;&#x53D8;&#x91CF;&#x3001;&#x65B9;&#x6CD5;&#x548C;&#x7C7B;&#x901A;&#x8FC7;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x66B4;&#x9732;&#x7ED9;&#x8C03;&#x7528;&#x65B9;&#xFF0C;&#x8FD9;&#x662F;Python&#x4E2D;&#x7279;&#x522B;&#x6709;&#x7528;&#x548C;&#x5F3A;&#x5927;&#x7684;&#x6838;&#x5FC3;&#x6982;&#x5FF5;&#x3002;</p>
<p><em>In many languages, an <code>include file</code> directive is used by the preprocessor to take all code found in the file and &#x2018;copy&#x2019; it into the caller&#x2019;s code. It is different in Python: the included code is isolated in a module namespace, which means that you generally don&#x2019;t have to worry that the included code could have unwanted effects, e.g. override an existing function with the same name.</em></p>
<p>&#x5728;&#x5F88;&#x591A;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x4E2D;&#xFF0C;<code>include file</code> &#x6307;&#x4EE4;&#x88AB;&#x9884;&#x5904;&#x7406;&#x5668;&#x7528;&#x6765;&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x91CC;&#x7684;&#x6240;&#x6709;&#x4EE3;&#x7801;&#x5E76;&#x2018;&#x590D;&#x5236;&#x2019; &#x5230;&#x8C03;&#x7528;&#x65B9;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#x3002;Python&#x5219;&#x4E0D;&#x4E00;&#x6837;&#xFF1A;include&#x4EE3;&#x7801;&#x88AB;&#x72EC;&#x7ACB;&#x653E;&#x5728;&#x6A21;&#x5757;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x91CC;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x60A8; &#x4E00;&#x822C;&#x4E0D;&#x9700;&#x8981;&#x62C5;&#x5FC3;include&#x7684;&#x4EE3;&#x7801;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x4E0D;&#x597D;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x4F8B;&#x5982;&#x91CD;&#x8F7D;&#x540C;&#x540D;&#x65B9;&#x6CD5;&#x3002;</p>
<p><em>It is possible to simulate the more standard behavior by using a special syntax of the import statement: `from modu import </em><code>. This is generally considered bad practice. Using</code>import <em>` makes code harder to read and makes dependencies less compartmentalized.</em></p>
<p>&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;import&#x8BED;&#x53E5;&#x7684;&#x7279;&#x6B8A;&#x5F62;&#x5F0F; <code>from modu import *</code> &#x6A21;&#x62DF;&#x66F4;&#x6807;&#x51C6;&#x7684;&#x884C;&#x4E3A;&#x3002;&#x4F46; <code>from modu import *</code> &#x901A;&#x5E38; &#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x4E0D;&#x597D;&#x7684;&#x505A;&#x6CD5;&#x3002;&#x4F7F;&#x7528;<code>import *</code>&#x7684;&#x4EE3;&#x7801;&#x8F83;&#x96BE;&#x9605;&#x8BFB;&#x800C;&#x4E14;&#x4F9D;&#x8D56;&#x72EC;&#x7ACB;&#x6027;&#x4E0D;&#x8DB3;&#x3002; </p>
<p><em>Using <code>from modu import func</code> is a way to pinpoint the function you want to import and put it in the global namespace. While much less harmful than `import </em><code>because it shows explicitly what is imported in the global namespace, its only advantage over a simpler</code>import modu` is that it will save a little typing.*</p>
<p>&#x4F7F;&#x7528; <code>from modu import func</code> &#x80FD;&#x7CBE;&#x786E;&#x5B9A;&#x4F4D;&#x60A8;&#x60F3;&#x5BFC;&#x5165;&#x7684;&#x65B9;&#x6CD5;&#x5E76;&#x5C06;&#x5176;&#x653E;&#x5230;&#x5168;&#x5C40;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x4E2D;&#x3002; &#x6BD4; <code>from modu import *</code> &#x8981;&#x597D;&#x4E9B;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x660E;&#x786E;&#x5730;&#x6307;&#x660E;&#x5F80;&#x5168;&#x5C40;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x4E2D;&#x5BFC;&#x5165;&#x4E86;&#x4EC0;&#x4E48;&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x548C; <code>import modu</code> &#x76F8;&#x6BD4;&#x552F;&#x4E00;&#x7684;&#x4F18;&#x70B9;&#x662F;&#x4E4B;&#x540E;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x65F6;&#x53EF;&#x4EE5;&#x5C11;&#x6253;&#x70B9;&#x513F;&#x5B57;&#x3002;</p>
<p>Very bad</p>
<pre><code>[...]
from modu import *
[...]
# Is sqrt part of modu? A builtin? Defined above?
# sqrt&#x662F;&#x6A21;&#x5757;modu&#x7684;&#x4E00;&#x90E8;&#x5206;&#x4E48;&#xFF1F;&#x6216;&#x662F;&#x5185;&#x5EFA;&#x51FD;&#x6570;&#x4E48;&#xFF1F;&#x4E0A;&#x6587;&#x5B9A;&#x4E49;&#x4E86;&#x4E48;&#xFF1F;
x = sqrt(4)
</code></pre><p>Better</p>
<pre><code>from modu import sqrt
[...]
# sqrt may be part of modu, if not redefined in between
# &#x5982;&#x679C;&#x5728;import&#x8BED;&#x53E5;&#x4E0E;&#x8FD9;&#x6761;&#x8BED;&#x53E5;&#x4E4B;&#x95F4;&#xFF0C;sqrt&#x6CA1;&#x6709;&#x88AB;&#x91CD;&#x590D;&#x5B9A;&#x4E49;&#xFF0C;&#x5B83;&#x4E5F;&#x8BB8;&#x662F;&#x6A21;&#x5757;modu&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;
x = sqrt(4)
</code></pre><p>Best</p>
<pre><code>import modu
[...]
# # sqrt&#x663E;&#x7136;&#x662F;&#x5C5E;&#x4E8E;&#x6A21;&#x5757;modu&#x7684;&#x3002;
# sqrt is visibly part of modu&apos;s namespace
x = modu.sqrt(4)
</code></pre><p><em>As mentioned in the Code Style section, readability is one of the main features of Python. Readability means to avoid useless boilerplate text and clutter, therefore some efforts are spent trying to achieve a certain level of brevity. But terseness and obscurity are the limits where brevity should stop. Being able to tell immediately where a class or function comes from, as in the <code>modu.func</code> idiom, greatly improves code readability and understandability in all but the simplest single file projects.</em></p>
<p>&#x5728; &#x4EE3;&#x7801;&#x98CE;&#x683C; &#x7AE0;&#x8282;&#x4E2D;&#x63D0;&#x5230;&#xFF0C;&#x53EF;&#x8BFB;&#x6027;&#x662F;Python&#x6700;&#x4E3B;&#x8981;&#x7684;&#x7279;&#x6027;&#x4E4B;&#x4E00;&#x3002;&#x53EF;&#x8BFB;&#x6027;&#x610F;&#x5473;&#x7740;&#x907F;&#x514D;&#x65E0;&#x7528;&#x4E14;&#x91CD;&#x590D;&#x7684;&#x6587;&#x672C;&#x548C;&#x6DF7;&#x4E71;&#x7684;&#x7ED3;&#x6784;&#xFF0C;&#x56E0;&#x800C;&#x9700;&#x8981;&#x82B1;&#x8D39;&#x4E00;&#x4E9B;&#x52AA;&#x529B;&#x4EE5;&#x5B9E;&#x73B0;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x7684;&#x7B80;&#x6D01;&#x3002;&#x4F46;&#x4E0D;&#x80FD;&#x8FC7;&#x4EFD;&#x7B80;&#x6D01;&#x800C;&#x5BFC;&#x81F4;&#x7B80;&#x77ED;&#x6666;&#x6DA9;&#x3002;&#x9664;&#x4E86;&#x7B80;&#x5355;&#x7684;&#x5355;&#x6587;&#x4EF6;&#x9879;&#x76EE;&#x5916;&#xFF0C;&#x5176;&#x4ED6;&#x9879;&#x76EE;&#x9700;&#x8981;&#x80FD;&#x591F;&#x660E;&#x786E;&#x6307;&#x51FA;&#x7C7B;&#x548C;&#x65B9;&#x6CD5;&#x7684;&#x51FA;&#x5904;&#xFF0C;&#x4F8B;&#x5982;&#x4F7F;&#x7528;<code>modu.func</code>&#x8BED;&#x53E5;&#xFF0C;&#x8FD9;&#x5C06;&#x663E;&#x8457;&#x63D0;&#x5347;&#x4EE3;&#x7801;&#x7684;&#x53EF;&#x8BFB;&#x6027;&#x548C;&#x6613;&#x7406;&#x89E3;&#x6027;&#x3002;</p>
<h1 id="packages&#x5305;">Packages(&#x5305;)</h1>
<p><em>Python provides a very straightforward packaging system, which is simply an extension of the module mechanism to a directory.</em></p>
<p>Python&#x63D0;&#x4F9B;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x7684;&#x5305;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF0C;&#x5373;&#x7B80;&#x5355;&#x5730;&#x5C06;&#x6A21;&#x5757;&#x7BA1;&#x7406;&#x673A;&#x5236;&#x6269;&#x5C55;&#x5230;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x4E0A;(&#x76EE;&#x5F55;&#x6269;&#x5C55;&#x4E3A;&#x5305;)&#x3002;</p>
<p><em>Any directory with an <code>__init__.py</code> file is considered a Python package. The different modules in the package are imported in a similar manner as plain modules, but with a special behavior for the<code>__init__.py</code> file, which is used to gather all package-wide definitions.</em></p>
<p>&#x4EFB;&#x610F;&#x5305;&#x542B; <code>__init__.py</code>&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#x90FD;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x4E00;&#x4E2A;Python&#x5305;&#x3002;&#x5BFC;&#x5165;&#x4E00;&#x4E2A;&#x5305;&#x91CC;&#x4E0D;&#x540C;&#x6A21;&#x5757;&#x7684;&#x65B9;&#x5F0F;&#x548C;&#x666E;&#x901A;&#x7684;&#x5BFC;&#x5165;&#x6A21;&#x5757;&#x65B9;&#x5F0F;&#x76F8;&#x4F3C;&#xFF0C;&#x7279;&#x522B;&#x7684;&#x5730;&#x65B9;&#x662F; <code>__init__.py</code> &#x6587;&#x4EF6;&#x5C06;&#x96C6;&#x5408;&#x6240;&#x6709;&#x5305;&#x8303;&#x56F4;&#x5185;&#x7684;&#x5B9A;&#x4E49;&#x3002;</p>
<p><em>A file <code>modu.py</code> in the directory <code>pack/</code> is imported with the statement <code>import pack.modu</code>. This statement will look for an <code>__init__.py</code> file in <code>pack</code>, execute all of its top-level statements. Then it will look for a file named <code>pack/modu.py</code> and execute all of its top-level statements. After these operations, any variable, function, or class defined in <code>modu.py</code> is available in the pack.modu namespace.</em></p>
<p><code>pack/</code> &#x76EE;&#x5F55;&#x4E0B;&#x7684; <code>modu.py</code> &#x6587;&#x4EF6;&#x901A;&#x8FC7; <code>import pack.modu</code> &#x8BED;&#x53E5;&#x5BFC;&#x5165;&#x3002; &#x8BE5;&#x8BED;&#x53E5;&#x4F1A;&#x5728; <code>pack</code> &#x76EE;&#x5F55;&#x4E0B;&#x5BFB;&#x627E; <code>__init__.py</code> &#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x5176;&#x4E2D;&#x6240;&#x6709;&#x9876;&#x5C42; &#x8BED;&#x53E5;&#x3002;&#x4EE5;&#x4E0A;&#x64CD;&#x4F5C;&#x4E4B;&#x540E;&#xFF0C;<code>modu.py</code>&#x5185;&#x5B9A;&#x4E49;&#x7684;&#x6240;&#x6709;&#x53D8;&#x91CF;&#x3001;&#x65B9;&#x6CD5;&#x548C;&#x7C7B;&#x5728;pack.modu&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x4E2D;&#x5747;&#x53EF;&#x770B;&#x5230;&#x3002;</p>
<p><em>A commonly seen issue is to add too much code to <code>__init__.py</code> files. When the project complexity grows, there may be sub-packages and sub-sub-packages in a deep directory structure. In this case, importing a single item from a sub-sub-package will require executing all <code>__init__.py</code> files met while traversing the tree.</em></p>
<p>&#x4E00;&#x4E2A;&#x5E38;&#x89C1;&#x7684;&#x95EE;&#x9898;&#x662F;&#x5F80;<code>__init__.py</code>&#x4E2D;&#x52A0;&#x4E86;&#x8FC7;&#x591A;&#x4EE3;&#x7801;&#xFF0C;&#x968F;&#x7740;&#x9879;&#x76EE;&#x7684;&#x590D;&#x6742;&#x5EA6;&#x589E;&#x957F;&#xFF0C; &#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x8D8A;&#x6765;&#x8D8A;&#x6DF1;&#xFF0C;&#x5B50;&#x5305;&#x548C;&#x66F4;&#x6DF1;&#x5D4C;&#x5957;&#x7684;&#x5B50;&#x5305;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BFC;&#x5165;&#x591A;&#x5C42;&#x5D4C;&#x5957;&#x7684;&#x5B50;&#x5305;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x90E8;&#x4EF6;&#x9700;&#x8981;&#x6267;&#x884C;&#x6240;&#x6709;&#x901A;&#x8FC7;&#x8DEF;&#x5F84;&#x91CC;&#x78B0;&#x5230;&#x7684; <code>__init__.py</code> &#x6587;&#x4EF6;&#x3002;</p>
<p><em>Leaving an <code>__init__.py</code> file empty is considered normal and even a good practice, if the package&#x2019;s modules and sub-packages do not need to share any code.</em></p>
<p>&#x5982;&#x679C;&#x5305;&#x5185;&#x7684;&#x6A21;&#x5757;&#x548C;&#x5B50;&#x5305;&#x6CA1;&#x6709;&#x4EE3;&#x7801;&#x5171;&#x4EAB;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x4F7F;&#x7528;&#x7A7A;&#x767D;&#x7684; <code>__init__.py</code> &#x6587;&#x4EF6;&#x662F;&#x6B63;&#x5E38;&#x751A;&#x81F3;&#x597D;&#x7684;&#x505A;&#x6CD5;&#x3002;</p>
<p><em>Lastly, a convenient syntax is available for importing deeply nested packages: <code>import very.deep.module as mod</code>. This allows you to use mod in place of the verbose repetition of <code>very.deep.module</code>.</em></p>
<p>&#x6700;&#x540E;&#xFF0C;&#x5BFC;&#x5165;&#x6DF1;&#x5C42;&#x5D4C;&#x5957;&#x7684;&#x5305;&#x53EF;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x4FBF;&#x7684;&#x8BED;&#x6CD5;&#xFF1A;<code>import very.deep.module as mod</code>&#x3002; &#x8BE5;&#x8BED;&#x6CD5;&#x5141;&#x8BB8;&#x4F7F;&#x7528; mod &#x66FF;&#x4EE3;&#x5197;&#x957F;&#x7684; <code>very.deep.module</code>&#x3002;</p>
<h1 id="object-oriented-programming&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;">Object-oriented programming(&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;)</h1>
<p><em>Python is sometimes described as an object-oriented programming language. This can be somewhat misleading and needs to be clarified.</em></p>
<p>Python&#x6709;&#x65F6;&#x88AB;&#x63CF;&#x8FF0;&#x4E3A;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x8FD9;&#x591A;&#x5C11;&#x662F;&#x4E2A;&#x9700;&#x8981;&#x6F84;&#x6E05;&#x7684;&#x8BEF;&#x5BFC;&#x3002;</p>
<p><em>In Python, everything is an object, and can be handled as such. This is what is meant when we say, for example, that functions are first-class objects. Functions, classes, strings, and even types are objects in Python: like any object, they have a type, they can be passed as function arguments, and they may have methods and properties. In this understanding, Python is an object-oriented language.</em></p>
<p>&#x5728;Python&#x4E2D;&#x4E00;&#x5207;&#x90FD;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4E14;&#x80FD;&#x6309;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x5F0F;&#x5904;&#x7406;&#x3002;&#x8FD9;&#x4E48;&#x8BF4;&#x7684;&#x610F;&#x601D;&#x662F;&#xFF0C;&#x4F8B;&#x5982;&#x51FD;&#x6570;&#x662F;&#x4E00;&#x7B49;&#x5BF9;&#x8C61;&#x3002; &#x51FD;&#x6570;&#x3001;&#x7C7B;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x4E43;&#x81F3;&#x7C7B;&#x578B;&#x90FD;&#x662F;Python&#x5BF9;&#x8C61;&#xFF1A;&#x4E0E;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x4E00;&#x6837;&#xFF0C;&#x4ED6;&#x4EEC;&#x6709;&#x7C7B;&#x578B;&#xFF0C;&#x80FD;&#x4F5C;&#x4E3A;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x4F20;&#x9012;&#xFF0C;&#x5E76;&#x4E14;&#x8FD8;&#x53EF;&#x80FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x65B9;&#x6CD5;&#x548C;&#x5C5E;&#x6027;&#x3002;&#x8FD9;&#x6837;&#x7406;&#x89E3;&#x7684;&#x8BDD;&#xFF0C;Python&#x662F;&#x4E00;&#x79CD;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x8BED;&#x8A00;&#x3002;</p>
<p><em>However, unlike Java, Python does not impose object-oriented programming as the main programming paradigm. It is perfectly viable for a Python project to not be object-oriented, i.e. to use no or very few class definitions, class inheritance, or any other mechanisms that are specific to object-oriented programming.</em></p>
<p>&#x7136;&#x800C;&#xFF0C;&#x4E0E;Java&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;Python&#x5E76;&#x6CA1;&#x6709;&#x5C06;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x4F5C;&#x4E3A;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x7F16;&#x7A0B;&#x8303;&#x5F0F;&#x3002;&#x975E;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;Python&#x9879;&#x76EE;(&#x6BD4;&#x5982;,&#x4F7F;&#x7528;&#x8F83;&#x5C11;&#x751A;&#x81F3;&#x4E0D;&#x4F7F;&#x7528;&#x7C7B;&#x5B9A;&#x4E49;&#xFF0C;&#x7C7B;&#x7EE7;&#x627F;&#xFF0C;&#x6216;&#x5176;&#x5B83;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x7684;&#x673A;&#x5236;)&#x4E5F;&#x662F;&#x5B8C;&#x5168;&#x53EF;&#x884C;&#x7684;&#x3002;</p>
<p><em>Moreover, as seen in the modules section, the way Python handles modules and namespaces gives the developer a natural way to ensure the encapsulation and separation of abstraction layers, both being the most common reasons to use object-orientation. Therefore, Python programmers have more latitude to not use object-orientation, when it is not required by the business model.</em></p>
<p>&#x6B64;&#x5916;&#x5728; &#x6A21;&#x5757; &#x7AE0;&#x8282;&#x91CC;&#x66FE;&#x63D0;&#x5230;&#xFF0C;Python&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x4E0E;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x65B9;&#x5F0F;&#x63D0;&#x4F9B;&#x7ED9;&#x5F00;&#x53D1;&#x8005;&#x4E00;&#x4E2A;&#x81EA;&#x7136;&#x7684;&#x65B9;&#x5F0F;&#x4EE5;&#x5B9E;&#x73B0;&#x62BD;&#x8C61;&#x5C42;&#x7684;&#x5C01;&#x88C5;&#x548C;&#x5206;&#x79BB;&#xFF0C;&#x8FD9;&#x662F;&#x4F7F;&#x7528;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x539F;&#x56E0;&#x3002;&#x56E0;&#x800C;&#xFF0C;&#x5982;&#x679C;&#x4E1A;&#x52A1;&#x903B;&#x8F91; &#x6CA1;&#x6709;&#x8981;&#x6C42;&#xFF0C;Python&#x5F00;&#x53D1;&#x8005;&#x6709;&#x66F4;&#x591A;&#x81EA;&#x7531;&#x53BB;&#x9009;&#x62E9;&#x4E0D;&#x4F7F;&#x7528;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x3002;</p>
<p><em>There are some reasons to avoid unnecessary object-orientation. Defining custom classes is useful when we want to
glue together some state and some functionality. The problem, as pointed out by the discussions about functional
programming, comes from the &#x201C;state&#x201D; part of the equation.</em></p>
<p>&#x5728;&#x4E00;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x9700;&#x8981;&#x907F;&#x514D;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x5C06;&#x72B6;&#x6001;&#x4E0E;&#x529F;&#x80FD;&#x7ED3;&#x5408;&#x8D77;&#x6765;&#xFF0C;&#x4F7F;&#x7528;&#x6807;&#x51C6;&#x7C7B;&#x5B9A;&#x4E49;&#x662F;&#x6709;&#x6548;&#x7684;&#x3002;&#x4F46;&#x6B63;&#x5982;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x6240;&#x8BA8;&#x8BBA;&#x7684;&#x90A3;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x51FD;&#x6570;&#x5F0F;&#x7684;&#x201C;&#x53D8;&#x91CF;&#x201D;&#x72B6;&#x6001;&#x4E0E;&#x7C7B;&#x7684;&#x72B6;&#x6001;&#x5E76;&#x4E0D;&#x76F8;&#x540C;&#x3002;</p>
<p>*In some architectures, typically web applications, multiple instances of Python processes are spawned to respond to external requests that can happen at the same time. In this case, holding some state into instantiated objects, which means keeping some static information about the world, is prone to concurrency problems or race-conditions.</p>
<p>&#x5728;&#x67D0;&#x4E9B;&#x67B6;&#x6784;&#x4E2D;&#xFF0C;&#x5178;&#x578B;&#x4EE3;&#x8868;&#x662F;web&#x5E94;&#x7528;&#xFF0C;&#x5927;&#x91CF;Python&#x8FDB;&#x7A0B;&#x5B9E;&#x4F8B;&#x88AB;&#x4EA7;&#x751F;&#x4EE5;&#x54CD;&#x5E94;&#x53EF;&#x80FD;&#x540C;&#x65F6;&#x5230;&#x8FBE;&#x7684;&#x5916;&#x90E8;&#x8BF7;&#x6C42;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728;&#x5B9E;&#x4F8B;&#x5316;&#x5BF9;&#x8C61;&#x5185;&#x4FDD;&#x6301;&#x67D0;&#x4E9B;&#x72B6;&#x6001;&#xFF0C;&#x5373;&#x4FDD;&#x6301;&#x67D0;&#x4E9B;&#x73AF;&#x5883;&#x9759;&#x6001;&#x4FE1;&#x606F;&#xFF0C; &#x5BB9;&#x6613;&#x51FA;&#x73B0;&#x5E76;&#x53D1;&#x95EE;&#x9898;&#x6216;&#x7ADE;&#x6001;&#x6761;&#x4EF6;&#x3002;</p>
<p>Sometimes, between the initialization of the state of an object (usually done with the <code>__init__()</code> method) and the actual use of the object state through one of its methods, the world may have changed, and the retained state may be outdated. For example, a request may load an item in memory and mark it as read by a user. If another request requires the deletion of this item at the same time, it may happen that the deletion actually occurs after the first process loaded the item, and then we have to mark as read a deleted object.*</p>
<p>&#x6709;&#x65F6;&#x5019;&#x5728;&#x5BF9;&#x8C61;&#x72B6;&#x6001;&#x7684;&#x521D;&#x59CB;&#x5316;(&#x901A;&#x5E38;&#x901A;&#x8FC7; <strong>init</strong>() &#x65B9;&#x6CD5;&#x5B9E;&#x73B0;)&#x548C;&#x5728;&#x5176;&#x65B9;&#x6CD5;&#x4E2D;&#x4F7F;&#x7528;&#x8BE5;&#x72B6;&#x6001;&#x4E4B;&#x95F4;&#xFF0C;&#x73AF;&#x5883;&#x53D1;&#x751F;&#x4E86;&#x53D8;&#x5316;&#xFF0C;&#x4FDD;&#x7559;&#x7684;&#x72B6;&#x6001;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x8FC7;&#x65F6;&#x3002; &#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x67D0;&#x4E2A;&#x8BF7;&#x6C42;&#x5C06;&#x5BF9;&#x8C61;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#x5E76;&#x6807;&#x8BB0;&#x5B83;&#x4E3A;&#x5DF2;&#x8BFB;&#x3002;&#x5982;&#x679C;&#x540C;&#x65F6;&#x53E6;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x8981;&#x5220;&#x9664; &#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x53EF;&#x80FD;&#x521A;&#x597D;&#x53D1;&#x751F;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x52A0;&#x8F7D;&#x5B8C;&#x8BE5;&#x5BF9;&#x8C61;&#x4E4B;&#x540E;&#xFF0C;&#x7ED3;&#x679C;&#x5C31;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x6807;&#x8BB0;&#x4E86;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x88AB;&#x5220;&#x9664;&#x7684;&#x5BF9;&#x8C61;&#x4E3A;&#x5DF2;&#x8BFB;&#x3002;</p>
<p><em>This and other issues led to the idea that using stateless functions is a better programming paradigm.</em></p>
<p>&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x4F7F;&#x6211;&#x4EEC;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x60F3;&#x6CD5;&#xFF1A;&#x4F7F;&#x7528;&#x65E0;&#x72B6;&#x6001;&#x7684;&#x51FD;&#x6570;&#x662F;&#x4E00;&#x79CD;&#x66F4;&#x597D;&#x7684;&#x7F16;&#x7A0B;&#x8303;&#x5F0F;&#x3002;</p>
<p><em>Another way to say the same thing is to suggest using functions and procedures with as few implicit contexts and side-effects as possible. A function&#x2019;s implicit context is made up of any of the global variables or items in the persistence layer that are accessed from within the function. Side-effects are the changes that a function makes to its implicit context. If a function saves or deletes data in a global variable or in the persistence layer, it is said to have a side-effect.</em></p>
<p>&#x53E6;&#x4E00;&#x79CD;&#x5EFA;&#x8BAE; &#x662F;&#x5C3D;&#x91CF;&#x4F7F;&#x7528;&#x9690;&#x5F0F;&#x4E0A;&#x4E0B;&#x6587;&#x548C;&#x526F;&#x4F5C;&#x7528;&#x8F83;&#x5C0F;&#x7684;&#x51FD;&#x6570;&#x4E0E;&#x7A0B;&#x5E8F;&#x3002;&#x51FD;&#x6570;&#x7684;&#x9690;&#x5F0F;&#x4E0A;&#x4E0B;&#x6587;&#x7531;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x8BBF;&#x95EE; &#x5230;&#x7684;&#x6240;&#x6709;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x4E0E;&#x6301;&#x4E45;&#x5C42;&#x5BF9;&#x8C61;&#x7EC4;&#x6210;&#x3002;&#x526F;&#x4F5C;&#x7528;&#x5373;&#x51FD;&#x6570;&#x53EF;&#x80FD;&#x4F7F;&#x5176;&#x9690;&#x5F0F;&#x4E0A;&#x4E0B;&#x6587;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x3002;&#x5982;&#x679C;&#x51FD;&#x6570;&#x4FDD;&#x5B58;&#x6216;&#x5220;&#x9664;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x6216;&#x6301;&#x4E45;&#x5C42;&#x4E2D;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x79F0;&#x4E3A;&#x526F;&#x4F5C;&#x7528;&#x3002;</p>
<p><em>Carefully isolating functions with context and side-effects from functions with logic (called pure functions) allow the
following benefits:</em></p>
<p>&#x628A;&#x6709;&#x9690;&#x5F0F;&#x4E0A;&#x4E0B;&#x6587;&#x548C;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x51FD;&#x6570;&#x4E0E;&#x4EC5;&#x5305;&#x542B;&#x903B;&#x8F91;&#x7684;&#x51FD;&#x6570;(&#x7EAF;&#x51FD;&#x6570;)&#x8C28;&#x614E;&#x5730;&#x533A;&#x5206;&#x5F00;&#x6765;&#xFF0C;&#x4F1A;&#x5E26;&#x6765;&#x4EE5;&#x4E0B;&#x597D;&#x5904;&#xFF1A;</p>
<ul>
<li><p><em>Pure functions are deterministic: given a fixed input, the output will always be the same.</em>
&#x7EAF;&#x51FD;&#x6570;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x786E;&#x5B9A;&#x7684;&#xFF1A;&#x7ED9;&#x5B9A;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#xFF0C;&#x8F93;&#x51FA;&#x603B;&#x662F;&#x56FA;&#x5B9A;&#x76F8;&#x540C;&#x3002;</p>
</li>
<li><p><em>Pure functions are much easier to change or replace if they need to be refactored or optimized.</em>
&#x5F53;&#x9700;&#x8981;&#x91CD;&#x6784;&#x6216;&#x4F18;&#x5316;&#x65F6;&#xFF0C;&#x7EAF;&#x51FD;&#x6570;&#x66F4;&#x6613;&#x4E8E;&#x66F4;&#x6539;&#x6216;&#x66FF;&#x6362;&#x3002;</p>
</li>
<li><p><em>Pure functions are easier to test with unit-tests: There is less need for complex context setup and data cleaning
afterwards.</em>
&#x7EAF;&#x51FD;&#x6570;&#x66F4;&#x5BB9;&#x6613;&#x505A;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#xFF1A;&#x5F88;&#x5C11;&#x9700;&#x8981;&#x590D;&#x6742;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x914D;&#x7F6E;&#x548C;&#x4E4B;&#x540E;&#x7684;&#x6570;&#x636E;&#x6E05;&#x9664;&#x5DE5;&#x4F5C;</p>
</li>
<li><ul>
<li>Pure functions are easier to manipulate, decorate, and pass around.*
&#x7EAF;&#x51FD;&#x6570;&#x66F4;&#x5BB9;&#x6613;&#x64CD;&#x4F5C;&#x3001;&#x4FEE;&#x9970;&#x548C;&#x5206;&#x53D1;&#x3002;</li>
</ul>
</li>
</ul>
<p><em>In summary, pure functions are more efficient building blocks than classes and objects for some architectures because
they have no context or side-effects.</em>
&#x603B;&#x4E4B;&#xFF0C;&#x5BF9;&#x4E8E;&#x67D0;&#x4E9B;&#x67B6;&#x6784;&#x800C;&#x8A00;&#xFF0C;&#x7EAF;&#x51FD;&#x6570;&#x6BD4;&#x7C7B;&#x548C;&#x5BF9;&#x8C61;&#x5728;&#x6784;&#x5EFA;&#x6A21;&#x5757;&#x65F6;&#x66F4;&#x6709;&#x6548;&#x7387;&#xFF0C;&#x56E0;&#x4E3A;&#x4ED6;&#x4EEC;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x4E0A;&#x4E0B;&#x6587;&#x548C;&#x526F;&#x4F5C;&#x7528;&#x3002;</p>
<p><em>Obviously, object-orientation is useful and even necessary in many cases, for example when developing graphical
desktop applications or games, where the things that are manipulated (windows, buttons, avatars, vehicles) have a
relatively long life of their own in the computer&#x2019;s memory.</em></p>
<p>&#x4F46;&#x663E;&#x7136;&#x5728;&#x5F88;&#x591A;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x662F;&#x6709;&#x7528;&#x751A;&#x81F3;&#x5FC5;&#x8981;&#x7684;&#x3002;&#x4F8B;&#x5982;&#x56FE;&#x5F62;&#x684C;&#x9762; &#x5E94;&#x7528;&#x6216;&#x6E38;&#x620F;&#x7684;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x64CD;&#x4F5C;&#x7684;&#x5143;&#x7D20;(&#x7A97;&#x53E3;&#x3001;&#x6309;&#x94AE;&#x3001;&#x89D2;&#x8272;&#x3001;&#x8F66;&#x8F86;)&#x5728;&#x8BA1;&#x7B97;&#x673A;&#x5185;&#x5B58;&#x91CC;&#x62E5;&#x6709;&#x76F8;&#x5BF9;&#x8F83;&#x957F;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x3002;</p>
<h1 id="decorators&#x88C5;&#x9970;&#x5668;">Decorators(&#x88C5;&#x9970;&#x5668;)</h1>
<p>*The Python language provides asimple yet powerful syntax called &#x2018;decorators&#x2019;. A decorator is a function or a class that
wraps(or decorates) a function or a method.</p>
<p>Python&#x8BED;&#x8A00;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x800C;&#x5F3A;&#x5927;&#x7684;&#x8BED;&#x6CD5;: &#x2018;&#x88C5;&#x9970;&#x5668;&#x2019;&#x3002;&#x88C5;&#x9970;&#x5668;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x6216;&#x7C7B;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5; &#x5305;&#x88C5;(&#x6216;&#x88C5;&#x9970;)&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x6216;&#x65B9;&#x6CD5;&#x3002;</p>
<p>The &#x2018;decorated&#x2019; function or method will replace the original &#x2018;undecorated&#x2019; function or method. Because functions are first-class objects in Python, this can be done &#x2018;manually&#x2019;, but using the
@decorator syntax is clearer and thus preferred.*</p>
<p>&#x88AB; &#x2018;&#x88C5;&#x9970;&#x2019; &#x7684;&#x51FD;&#x6570;&#x6216;&#x65B9;&#x6CD5;&#x4F1A;&#x66FF;&#x6362;&#x539F;&#x6765;&#x7684;&#x51FD;&#x6570;&#x6216;&#x65B9;&#x6CD5;&#x3002; &#x7531;&#x4E8E;&#x5728;Python&#x4E2D;&#x51FD;&#x6570;&#x662F;&#x4E00;&#x7B49;&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x88AB; &#x2018;&#x624B;&#x52A8;&#x64CD;&#x4F5C;&#x2019;&#xFF0C;&#x4F46;&#x662F;&#x4F7F;&#x7528;@decorators &#x8BED;&#x6CD5;&#x66F4;&#x6E05;&#x6670;&#xFF0C;&#x56E0;&#x6B64;&#x9996;&#x9009;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x3002;</p>
<pre><code>def foo():
    # do something

def decorator(func):
    # manipulate func
    return func

# Manually decorate
# &#x624B;&#x52A8;&#x88C5;&#x9970;
foo = decorator(foo) 

@decorator
def bar():
    # Do something
# bar() is decorated
# bar()&#x88AB;&#x88C5;&#x9970;&#x4E86;
</code></pre><p><em>This mechanism is useful for separating concerns and avoiding external un-related logic &#x2018;polluting&#x2019; the core logic of the function or method. A good example of a piece of functionality that is better handled with decoration is memoization or caching: you want to store the results of an expensive function in a table and use them directly instead of recomputing them when they have already been computed. This is clearly not part of the function logic.</em></p>
<p>&#x8FD9;&#x4E2A;&#x673A;&#x5236;&#x5BF9;&#x4E8E;&#x5206;&#x79BB;&#x6982;&#x5FF5;&#x548C;&#x907F;&#x514D;&#x5916;&#x90E8;&#x4E0D;&#x76F8;&#x5173;&#x903B;&#x8F91;&#x201C;&#x6C61;&#x67D3;&#x201D;&#x4E3B;&#x8981;&#x903B;&#x8F91;&#x5F88;&#x6709;&#x7528;&#x5904;&#x3002; <a href="https://en.wikipedia.org/wiki/Memoization#Overview" target="_blank">&#x8BB0;&#x5FC6;&#x5316;&#x6216;&#x7F13;&#x5B58;</a>&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x5668;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;&#x60A8;&#x9700;&#x8981;&#x5728;table&#x4E2D;&#x50A8;&#x5B58;&#x4E00;&#x4E2A;&#x8017;&#x65F6;&#x51FD;&#x6570;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x5E76;&#x4E14;&#x4E0B;&#x6B21;&#x80FD;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x8BE5;&#x7ED3;&#x679C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x518D;&#x8BA1;&#x7B97;&#x4E00;&#x6B21;&#x3002;&#x8FD9;&#x663E;&#x7136;&#x4E0D;&#x5C5E;&#x4E8E;&#x51FD;&#x6570;&#x7684;&#x903B;&#x8F91;&#x90E8;&#x5206;&#x3002;</p>
<h1 id="context-managers&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x5668;">Context Managers(&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x5668;)</h1>
<p><em>A context manager is a Python object that provides extra contextual information to an action. This extra information takes the form of running a callable upon initiating the context using the with statement, as well as running a callable upon completing all the code inside the with block. The most well known example of using a context manager is shown here, opening on a file:</em></p>
<p>&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x5668;&#x662F;&#x4E00;&#x4E2A;Python&#x5BF9;&#x8C61;&#xFF0C;&#x4E3A;&#x64CD;&#x4F5C;&#x63D0;&#x4F9B;&#x4E86;&#x989D;&#x5916;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4FE1;&#x606F;&#x3002; &#x8FD9;&#x79CD;&#x989D;&#x5916;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5728;&#x4F7F;&#x7528; with &#x8BED;&#x53E5;&#x521D;&#x59CB;&#x5316;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x4EE5;&#x53CA;&#x5B8C;&#x6210; with &#x5757;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x91C7;&#x7528;&#x53EF;&#x8C03;&#x7528;&#x7684;&#x5F62;&#x5F0F;&#x3002; &#x8FD9;&#x91CC;&#x5C55;&#x793A;&#x4E86;&#x4F7F;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x7BA1;&#x7406;&#x5668;&#x7684;&#x4E3A;&#x4EBA;&#x719F;&#x77E5;&#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x6253;&#x5F00;&#x6587;&#x4EF6;&#xFF1A;</p>
<pre><code>with open(&apos;file.txt&apos;) as f:
    contents = f.read()
</code></pre><p><em>Anyone familiar with this pattern knows that invoking open in this fashion ensures that f&#x2018;s close method will be called at some point. This reduces a developer&#x2019;s cognitive load and makes the code easier to read.</em></p>
<p>&#x4EFB;&#x4F55;&#x719F;&#x6089;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x7684;&#x4EBA;&#x90FD;&#x77E5;&#x9053;&#x4EE5;&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x8C03;&#x7528; <code>open</code> &#x80FD;&#x786E;&#x4FDD; f &#x7684; <code>close</code> &#x65B9;&#x6CD5;&#x4F1A;&#x5728;&#x67D0;&#x4E2A;&#x65F6;&#x5019;&#x88AB;&#x8C03;&#x7528;&#x3002; &#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x7684;&#x8BA4;&#x77E5;&#x8D1F;&#x62C5;&#xFF0C;&#x5E76;&#x4F7F;&#x4EE3;&#x7801;&#x66F4;&#x5BB9;&#x6613;&#x9605;&#x8BFB;&#x3002;</p>
<p><em>There are two easy ways to implement this functionality yourself: using a class or using a generator. 
Let&#x2019;s implement the above functionality ourselves, starting with the class approach:</em></p>
<p>&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x6709;&#x4E24;&#x79CD;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;&#x4F7F;&#x7528;&#x7C7B;&#x6216;&#x4F7F;&#x7528;&#x751F;&#x6210;&#x5668;&#x3002; &#x8BA9;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x4E0A;&#x9762;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4EE5;&#x4F7F;&#x7528;&#x7C7B;&#x65B9;&#x5F0F;&#x5F00;&#x59CB;&#xFF1A;</p>
<pre><code>class CustomOpen(object):
    def __init__(self, filename):
        self.file = open(filename)

    def __enter__(self):
        return self.file

    def __exit__(self, ctx_type, ctx_value, ctx_traceback):
        self.file.close()


with CustomOpen(&apos;file&apos;) as f:
    contents = f.read()
</code></pre><p><em>This is just a regular Python object with two extra methods that are used by the with statement. CustomOpen is first instantiated and then its <code>__enter__</code> method is called and whatever <code>__enter__</code> returns is assigned to f in the <code>as f</code> part of the statement. When the contents of the with block is finished executing, the <code>__exit__</code> method is then called.</em></p>
<p>&#x8FD9;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x5E38;&#x89C4;&#x7684;Python&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x6709;&#x4E24;&#x4E2A;&#x7531; with &#x8BED;&#x53E5;&#x4F7F;&#x7528;&#x7684;&#x989D;&#x5916;&#x65B9;&#x6CD5;&#x3002; CustomOpen &#x9996;&#x5148;&#x88AB;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528;&#x5B83;&#x7684;<code>__enter__</code>&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x4E14; <code>__enter__</code> &#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5728; <code>as f</code>&#x8BED;&#x53E5;&#x4E2D;&#x88AB;&#x8D4B;&#x7ED9; f &#x3002; &#x5F53; with &#x5757;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x6267;&#x884C;&#x5B8C;&#x540E;&#xFF0C;&#x4F1A;&#x8C03;&#x7528; <code>__exit__</code> &#x65B9;&#x6CD5;&#x3002;</p>
<p><em>And now the generator approach using Python&#x2019;s own <code>contextlib</code>:</em></p>
<p>&#x800C;&#x751F;&#x6210;&#x5668;&#x65B9;&#x5F0F;&#x4F7F;&#x7528;&#x4E86;Python&#x81EA;&#x5E26;&#x7684; <code>contextlib</code>:</p>
<pre><code>from contextlib import contextmanager

@contextmanager
def custom_open(filename):
    f = open(filename)
    try:
        yield f
    finally:
        f.close()

with custom_open(&apos;file&apos;) as f:
    contents = f.read()
</code></pre><p><em>This works in exactly the same way as the class example above, albeit it&#x2019;s more terse. The custom_open function executes until it reaches the yield statement. It then gives control back to the with statement, which assigns whatever was yield&#x2018;ed to f in the <code>as f</code> portion. The finally clause ensures that close() is called whether or
not there was an exception inside the with.</em></p>
<p>&#x8FD9;&#x4E0E;&#x4E0A;&#x9762;&#x7684;&#x7C7B;&#x793A;&#x4F8B;&#x9053;&#x7406;&#x76F8;&#x901A;&#xFF0C;&#x5C3D;&#x7BA1;&#x5B83;&#x66F4;&#x7B80;&#x6D01;&#x3002;custom_open &#x51FD;&#x6570;&#x4E00;&#x76F4;&#x8FD0;&#x884C;&#x5230; yield &#x8BED;&#x53E5;&#x3002; &#x7136;&#x540E;&#x5B83;&#x5C06;&#x63A7;&#x5236;&#x6743;&#x8FD4;&#x56DE;&#x7ED9; with &#x8BED;&#x53E5;&#xFF0C;&#x7136;&#x540E;&#x5728; <code>as f</code> &#x90E8;&#x5206;&#x5C06;yield&#x7684; f &#x8D4B;&#x503C;&#x7ED9;f&#x3002; finally &#x786E;&#x4FDD;&#x4E0D;&#x8BBA; with &#x4E2D;&#x662F;&#x5426;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#xFF0C; close() &#x90FD;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<p><em>Since the two approaches appear the same, we should follow the Zen of Python to decide when to use which. The class approach might be better if there&#x2019;s a considerable amount of logic to encapsulate. The function approach might be better for situations where we&#x2019;re dealing with a simple action.</em></p>
<p>&#x7531;&#x4E8E;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x9075;&#x5FAA;Python&#x4E4B;&#x7985;&#x6765;&#x51B3;&#x5B9A;&#x4F55;&#x65F6;&#x4F7F;&#x7528;&#x54EA;&#x79CD;&#x3002; &#x5982;&#x679C;&#x5C01;&#x88C5;&#x7684;&#x903B;&#x8F91;&#x91CF;&#x5F88;&#x5927;&#xFF0C;&#x5219;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x53EF;&#x80FD;&#x4F1A;&#x66F4;&#x597D;&#x3002; &#x800C;&#x5BF9;&#x4E8E;&#x5904;&#x7406;&#x7B80;&#x5355;&#x64CD;&#x4F5C;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x51FD;&#x6570;&#x65B9;&#x6CD5;&#x53EF;&#x80FD;&#x4F1A;&#x66F4;&#x597D;&#x3002;</p>
<h1 id="dynamic-typing&#x52A8;&#x6001;&#x7C7B;&#x578B;">Dynamic typing(&#x52A8;&#x6001;&#x7C7B;&#x578B;)</h1>
<p><em>Python is dynamically typed, which means that variables do not have a fixed type. In fact, in Python, variables are very different from what they are in many other languages, specifically statically-typed languages. Variables are not a segment of the computer&#x2019;s memory where some value is written, they are &#x2018;tags&#x2019; or &#x2018;names&#x2019; pointing to objects. It is therefore possible for the variable &#x2018;a&#x2019; to be set to the value 1, then to the value &#x2018;a string&#x2019;, then to a function.</em></p>
<p>Python&#x662F;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x53D8;&#x91CF;&#x5E76;&#x6CA1;&#x6709;&#x56FA;&#x5B9A;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;Python &#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x548C;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x6709;&#x5F88;&#x5927;&#x7684;&#x4E0D;&#x540C;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x9759;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#x3002;&#x53D8;&#x91CF;&#x5E76;&#x4E0D;&#x662F;&#x8BA1;&#x7B97;&#x673A;&#x5185;&#x5B58;&#x4E2D;&#x88AB;&#x5199;&#x5165;&#x7684;&#x67D0;&#x4E2A;&#x503C;&#xFF0C;&#x5B83;&#x4EEC; &#x53EA;&#x662F;&#x6307;&#x5411;&#x5185;&#x5B58;&#x7684; &#x2018;&#x6807;&#x7B7E;&#x2019; &#x6216; &#x2018;&#x540D;&#x79F0;&#x2019; &#x3002;&#x56E0;&#x6B64;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x8FD9;&#x6837;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x53D8;&#x91CF; &#x2018;a&#x2019; &#x5148;&#x4EE3;&#x8868;&#x503C;1&#xFF0C;&#x7136;&#x540E;&#x53D8;&#x6210; &#x5B57;&#x7B26;&#x4E32; &#x2018;a string&#x2019; , &#x7136;&#x540E;&#x53C8;&#x53D8;&#x4E3A;&#x6307;&#x5411;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3002;</p>
<p><em>The dynamic typing of Python is often considered to be a weakness, and indeed it can lead to complexities and hard-
to-debug code. Something named &#x2018;a&#x2019; can be set to many different things, and the developer or the maintainer needs to
track this name in the code to make sure it has not been set to a completely unrelated object.</em></p>
<p>Python &#x7684;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x5E38;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x5B83;&#x7684;&#x7F3A;&#x70B9;&#xFF0C;&#x7684;&#x786E;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x4F1A;&#x5BFC;&#x81F4;&#x590D;&#x6742;&#x5EA6;&#x63D0;&#x5347;&#x548C;&#x96BE;&#x4EE5;&#x8C03;&#x8BD5;&#x7684;&#x4EE3;&#x7801;&#x3002; &#x547D;&#x540D;&#x4E3A; &#x2018;a&#x2019; &#x7684;&#x53D8;&#x91CF;&#x53EF;&#x80FD;&#x662F;&#x5404;&#x79CD;&#x7C7B;&#x578B;&#xFF0C;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6216;&#x7EF4;&#x62A4;&#x4EBA;&#x5458;&#x9700;&#x8981;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x8FFD;&#x8E2A;&#x547D;&#x540D;&#xFF0C;&#x4EE5;&#x4FDD;&#x8BC1;&#x5B83;&#x6CA1;&#x6709;&#x88AB;&#x8BBE;&#x7F6E;&#x5230;&#x6BEB;&#x4E0D;&#x76F8;&#x5173;&#x7684;&#x5BF9;&#x8C61;&#x4E0A;&#x3002;</p>
<p><em>Some guidelines help to avoid this issue:</em></p>
<p>&#x8FD9;&#x91CC;&#x6709;&#x4E9B;&#x907F;&#x514D;&#x53D1;&#x751F;&#x7C7B;&#x4F3C;&#x95EE;&#x9898;&#x7684;&#x53C2;&#x8003;&#x65B9;&#x6CD5;&#xFF1A;</p>
<ul>
<li><em>Avoid using the same variable name for different things.</em>
&#x907F;&#x514D;&#x5BF9;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x540D;</li>
</ul>
<p><strong>Bad</strong></p>
<pre><code>a = 1
a = &apos;a string&apos;
def a():
    pass # Do something
</code></pre><p><strong>Good</strong></p>
<pre><code>count = 1
msg = &apos;a string&apos;
def func():
    pass # Do something
</code></pre><p><em>Using short functions or methods helps reduce the risk of using the same name for two unrelated things.
It is better to use different names even for things that are related, when they have a different type:</em></p>
<p>&#x4F7F;&#x7528;&#x7B80;&#x77ED;&#x7684;&#x51FD;&#x6570;&#x6216;&#x65B9;&#x6CD5;&#x80FD;&#x964D;&#x4F4E;&#x5BF9;&#x4E0D;&#x76F8;&#x5173;&#x5BF9;&#x8C61;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x7684;&#x98CE;&#x9669;&#x3002;&#x5373;&#x4F7F;&#x662F;&#x76F8;&#x5173;&#x7684;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x4E5F;&#x66F4;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x547D;&#x540D;&#xFF1A;</p>
<p>Bad</p>
<pre><code>items = &apos;a b c d&apos; # This is a string...
items = items.split(&apos; &apos;) # ...becoming a list
items = set(items) # ...and then a set
</code></pre><p><em>There is no efficiency gain when reusing names: the assignments will have to create new objects anyway. However, when the complexity grows and each assignment is separated by other lines of code, including &#x2018;if&#x2019; branches and loops, it becomes harder to ascertain what a given variable&#x2019;s type is.</em></p>
<p>&#x91CD;&#x590D;&#x4F7F;&#x7528;&#x547D;&#x540D;&#x5BF9;&#x6548;&#x7387;&#x5E76;&#x6CA1;&#x6709;&#x63D0;&#x5347;&#xFF1A;&#x8D4B;&#x503C;&#x65F6;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#x90FD;&#x8981;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x7136;&#x800C;&#x968F;&#x7740;&#x590D;&#x6742;&#x5EA6;&#x7684; &#x63D0;&#x5347;&#xFF0C;&#x8D4B;&#x503C;&#x8BED;&#x53E5;&#x88AB;&#x5176;&#x4ED6;&#x4EE3;&#x7801;&#x5305;&#x62EC; &#x2018;if&#x2019; &#x5206;&#x652F;&#x548C;&#x5FAA;&#x73AF;&#x5206;&#x5F00;&#xFF0C;&#x4F7F;&#x5F97;&#x66F4;&#x96BE;&#x67E5;&#x660E;&#x6307;&#x5B9A;&#x53D8;&#x91CF;&#x7684;&#x7C7B;&#x578B;&#x3002; </p>
<p><em>Some coding practices, like functional programming, recommend never reassigning a variable. In Java this is done
with the final keyword. Python does not have a final keyword and it would be against its philosophy anyway. However,
it may be a good discipline to avoid assigning to a variable more than once, and it helps in grasping the concept of
mutable and immutable types.</em></p>
<p>&#x5728;&#x67D0;&#x4E9B;&#x4EE3;&#x7801;&#x7684;&#x505A;&#x6CD5;&#x4E2D;&#xFF0C;&#x4F8B;&#x5982;&#x51FD;&#x6570;&#x7F16;&#x7A0B;&#xFF0C;&#x63A8;&#x8350;&#x7684;&#x662F;&#x4ECE;&#x4E0D;&#x91CD;&#x590D;&#x5BF9;&#x540C;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x547D;&#x540D;&#x8D4B;&#x503C;&#x3002;Java &#x5185;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x662F;&#x4F7F;&#x7528; &#x2018;final&#x2019; &#x5173;&#x952E;&#x5B57;&#x3002;Python&#x5E76;&#x6CA1;&#x6709; &#x2018;final&#x2019; &#x5173;&#x952E;&#x5B57;&#x800C;&#x4E14;&#x8FD9;&#x4E0E;&#x5B83;&#x7684;&#x54F2;&#x5B66; &#x76F8;&#x6096;&#x3002;&#x5C3D;&#x7BA1;&#x5982;&#x6B64;&#xFF0C;&#x907F;&#x514D;&#x7ED9;&#x540C;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x547D;&#x540D;&#x91CD;&#x590D;&#x8D4B;&#x503C;&#x4ECD;&#x662F;&#x662F;&#x4E2A;&#x597D;&#x7684;&#x505A;&#x6CD5;&#xFF0C;&#x5E76;&#x4E14;&#x6709;&#x52A9;&#x4E8E;&#x638C;&#x63E1; &#x53EF;&#x53D8;&#x4E0E;&#x4E0D;&#x53EF;&#x53D8;&#x7C7B;&#x578B;&#x7684;&#x6982;&#x5FF5;&#x3002;</p>
<h1 id="mutable-and-immutable-types&#x53EF;&#x53D8;&#x548C;&#x4E0D;&#x53EF;&#x53D8;&#x7C7B;&#x578B;">Mutable and immutable types(&#x53EF;&#x53D8;&#x548C;&#x4E0D;&#x53EF;&#x53D8;&#x7C7B;&#x578B;)</h1>
<p><em>Python has two kinds of built-in or user-defined types.</em></p>
<p>Python&#x63D0;&#x4F9B;&#x4E24;&#x79CD;&#x5185;&#x7F6E;&#x6216;&#x7528;&#x6237;&#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#x578B;&#x3002;</p>
<p><em>Mutable types are those that allow in-place modification of the content. Typical mutables are lists and dictionaries: All lists have mutating methods, like list.append() or list.pop(), and can be modified in place. The same goes for dictionaries.</em></p>
<p>&#x53EF;&#x53D8;&#x7C7B;&#x578B;&#x5141;&#x8BB8;&#x5185;&#x5BB9;&#x7684;&#x5185;&#x90E8;&#x4FEE;&#x6539;&#x3002;&#x5178;&#x578B;&#x7684;&#x52A8;&#x6001;&#x7C7B;&#x578B; &#x5305;&#x62EC;&#x5217;&#x8868;&#x4E0E;&#x5B57;&#x5178;&#xFF1A;&#x5217;&#x8868;&#x90FD;&#x6709;&#x53EF;&#x53D8;&#x65B9;&#x6CD5;&#xFF0C;&#x5982; list.append() &#x548C; list.pop()&#xFF0C; &#x5E76;&#x4E14;&#x80FD;&#x5C31;&#x5730;&#x4FEE;&#x6539;&#x3002;&#x5B57;&#x5178;&#x4E5F;&#x662F;&#x4E00;&#x6837;&#x3002;</p>
<p><em>Immutable types provide no method for changing their content. For instance, the variable x set to the integer 6 has no
&#x201C;increment&#x201D; method. If you want to compute x + 1, you have to create another integer and give it a name.</em></p>
<p>&#x4E0D;&#x53EF;&#x53D8;&#x7C7B;&#x578B;&#x6CA1;&#x6709;&#x4FEE;&#x6539;&#x81EA;&#x8EAB;&#x5185;&#x5BB9;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x8D4B;&#x503C;&#x4E3A;&#x6574;&#x6570; 6&#x7684;&#x53D8;&#x91CF; x &#x5E76;&#x6CA1;&#x6709; &#x201C;&#x81EA;&#x589E;&#x201D; &#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x8BA1;&#x7B97; x + 1&#xFF0C;&#x5FC5;&#x987B;&#x521B;&#x5EFA;&#x53E6;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#x53D8;&#x91CF;&#x5E76;&#x7ED9;&#x5176;&#x547D;&#x540D;&#x3002;</p>
<pre><code>my_list = [1, 2, 3]
my_list[0] = 4

# [4, 2, 3] &lt;- The same list has changed
# [4, 2, 3] &lt;- &#x539F;&#x5217;&#x8868;&#x6539;&#x53D8;&#x4E86;
print my_list 

x = 6
# The new x is another object
# x &#x53D8;&#x91CF;&#x662F;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x53D8;&#x91CF;
x = x + 1
</code></pre><p><em>One consequence of this difference in behavior is that mutable types are not &#x201C;stable&#x201D;, and therefore cannot be used as dictionary keys.</em></p>
<p>&#x8FD9;&#x79CD;&#x5DEE;&#x5F02;&#x5BFC;&#x81F4;&#x7684;&#x4E00;&#x4E2A;&#x540E;&#x679C;&#x5C31;&#x662F;&#xFF0C;&#x53EF;&#x53D8;&#x7C7B;&#x578B;&#x662F;&#x4E0D; &#x2018;&#x7A33;&#x5B9A; &#x2018;&#x7684;&#xFF0C;&#x56E0;&#x800C;&#x4E0D;&#x80FD;&#x4F5C;&#x4E3A;&#x5B57;&#x5178;&#x7684;&#x952E;&#x4F7F;&#x7528;&#x3002;</p>
<p><em>Using properly mutable types for things that are mutable in nature and immutable types for things that are fixed in nature helps to clarify the intent of the code.</em></p>
<p>&#x5408;&#x7406;&#x5730;&#x4F7F;&#x7528;&#x53EF;&#x53D8;&#x7C7B;&#x578B;&#x4E0E;&#x4E0D;&#x53EF;&#x53D8;&#x7C7B;&#x578B;&#x6709;&#x52A9;&#x4E8E;&#x9610;&#x660E;&#x4EE3;&#x7801;&#x7684;&#x610F;&#x56FE;&#x3002;</p>
<p><em>For example, the immutable equivalent of a list is the tuple, created with (1, 2). This tuple is a pair that cannot be
changed in-place, and can be used as a key for a dictionary.</em></p>
<p>&#x4F8B;&#x5982;&#x4E0E;&#x5217;&#x8868;&#x76F8;&#x4F3C;&#x7684;&#x4E0D;&#x53EF;&#x53D8;&#x7C7B;&#x578B;&#x662F;&#x5143;&#x7EC4;&#xFF0C; &#x521B;&#x5EFA;&#x65B9;&#x5F0F;&#x4E3A; (1, 2)&#x3002;&#x5143;&#x7EC4;&#x662F;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684;&#xFF0C;&#x5E76;&#x80FD;&#x4F5C;&#x4E3A;&#x5B57;&#x5178;&#x7684;&#x952E;&#x4F7F;&#x7528;&#x3002;</p>
<p><em>One peculiarity of Python that can surprise beginners is that strings are immutable. This means that when constructing a string from its parts, it is much more efficient to accumulate the parts in a list, which is mutable, and then glue (&#x2018;join&#x2019;) the parts together when the full string is needed. One thing to notice, however, is that list comprehensions are better and faster than constructing a list in a loop with calls to append().</em></p>
<p>Python &#x4E2D;&#x4E00;&#x4E2A;&#x53EF;&#x80FD;&#x4F1A;&#x8BA9;&#x521D;&#x5B66;&#x8005;&#x60CA;&#x8BB6;&#x7684;&#x7279;&#x6027;&#x662F;&#xFF1A;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x4E0D;&#x53EF;&#x53D8;&#x7C7B;&#x578B;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5F53;&#x9700;&#x8981;&#x7EC4;&#x5408;&#x4E00;&#x4E2A; &#x5B57;&#x7B26;&#x4E32;&#x65F6;&#xFF0C;&#x5C06;&#x6BCF;&#x4E00;&#x90E8;&#x5206;&#x653E;&#x5230;&#x4E00;&#x4E2A;&#x53EF;&#x53D8;&#x5217;&#x8868;&#x91CC;&#xFF0C;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x65F6;&#x518D;&#x7EC4;&#x5408; (&#x2018;join&#x2019;) &#x8D77;&#x6765;&#x7684;&#x505A;&#x6CD5;&#x66F4;&#x9AD8;&#x6548;&#x3002; &#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4F7F;&#x7528;&#x5217;&#x8868;&#x63A8;&#x5BFC;&#x7684;&#x6784;&#x9020;&#x65B9;&#x5F0F;&#x6BD4;&#x5728;&#x5FAA;&#x73AF;&#x4E2D;&#x8C03;&#x7528; append() &#x6765;&#x6784;&#x9020;&#x5217;&#x8868;&#x66F4;&#x597D;&#x4E5F;&#x66F4;&#x5FEB;&#x3002;</p>
<p><em>One other option is using the map function, which can &#x2018;map&#x2019; a function (&#x2018;str&#x2019;) to an iterable (&#x2018;range(20)&#x2019;). This results
in a map object, which you can then (&#x2018;join&#x2019;) together just like the other examples. The map function can be even faster
than a list comprehension in some cases.</em></p>
<p>&#x53E6;&#x4E00;&#x79CD;&#x9009;&#x62E9;&#x662F;&#x4F7F;&#x7528;map&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5C06;&#x51FD;&#x6570;&#xFF08;&apos;str&apos;&#xFF09;&#x6620;&#x5C04;&#x4E3A;&#x53EF;&#x8FED;&#x4EE3;&#x7684;&#xFF08;&apos;range&#xFF08;20&#xFF09;&apos;&#xFF09;&#x3002; &#x7ED3;&#x679C;&#x5728;&#x4E00;&#x4E2A;map&#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x4F60;&#x53EF;&#x4EE5;&#xFF08;&apos;join&apos;&#xFF09;&#x5C31;&#x50CF;&#x5176;&#x4ED6;&#x4F8B;&#x5B50;&#x4E00;&#x6837;&#x3002; &#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x7684;map&#x51FD;&#x6570;&#x6BD4;&#x5217;&#x8868;&#x80FD;&#x66F4;&#x5FEB;&#x88AB;&#x7406;&#x89E3;&#x3002;</p>
<p><strong>Bad</strong></p>
<pre><code># create a concatenated string from 0 to 19 (e.g. &quot;012..1819&quot;)
# &#x521B;&#x5EFA;&#x5C06;0&#x5230;19&#x8FDE;&#x63A5;&#x8D77;&#x6765;&#x7684;&#x5B57;&#x7B26;&#x4E32; (&#x4F8B; &quot;012..1819&quot;)
nums = &quot;&quot;
for n in range(20):
    # slow and inefficient
    # &#x6162;&#x4E14;&#x4F4E;&#x6548;
    nums += str(n) 
print nums
</code></pre><p><strong>Good</strong></p>
<pre><code># create a concatenated string from 0 to 19 (e.g. &quot;012..1819&quot;)
nums = []
for n in range(20):
    nums.append(str(n))

# much more efficient
# &#x66F4;&#x9AD8;&#x6548;
print &quot;&quot;.join(nums)
</code></pre><p><strong>Better</strong></p>
<pre><code># create a concatenated string from 0 to 19 (e.g. &quot;012..1819&quot;)
nums = [str(n) for n in range(20)]
print &quot;&quot;.join(nums)
</code></pre><p><strong>Best</strong></p>
<pre><code># create a concatenated string from 0 to 19 (e.g. &quot;012..1819&quot;)
nums = map(str, range(20))
print &quot;&quot;.join(nums)
</code></pre><p><em>One final thing to mention about strings is that using join() is not always best. In the instances where you are creating a new string from a pre-determined number of strings, using the addition operator is actually faster, but in cases like above or in cases where you are adding to an existing string, using join() should be your preferred
method.</em></p>
<p>&#x6700;&#x540E;&#x5173;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x8BF4;&#x660E;&#x7684;&#x4E00;&#x70B9;&#x662F;&#xFF0C;&#x4F7F;&#x7528; join() &#x5E76;&#x4E0D;&#x603B;&#x662F;&#x6700;&#x597D;&#x7684;&#x9009;&#x62E9;&#x3002;&#x6BD4;&#x5982;&#x5F53;&#x7528;&#x9884;&#x5148; &#x786E;&#x5B9A;&#x6570;&#x91CF;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x52A0;&#x6CD5;&#x64CD;&#x4F5C;&#x7B26;&#x786E;&#x5B9E;&#x66F4;&#x5FEB;&#xFF0C;&#x4F46;&#x5728;&#x4E0A;&#x6587;&#x63D0;&#x5230;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x6216;&#x6DFB;&#x52A0;&#x5230;&#x5DF2;&#x5B58;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F7F;&#x7528; join() &#x662F;&#x66F4;&#x597D;&#x7684;&#x9009;&#x62E9;&#x3002;</p>
<pre><code>foo = &apos;foo&apos;
bar = &apos;bar&apos;

# This is good
foobar = foo + bar 
# This is bad, 
foo += &apos;ooo&apos; 
# instead you should do:
foo = &apos;&apos;.join([foo, &apos;ooo&apos;])
</code></pre><hr>
<p>Note: <em>You can also use the % formatting operator to concatenate a pre-determined number of strings besides str.join() and +. However, PEP 3101, discourages the usage of the % operator in favor of the str.format() method.</em>
&#x9664;&#x4E86; str.join() &#x548C; +&#xFF0C;&#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; % &#x683C;&#x5F0F;&#x8FD0;&#x7B97;&#x7B26;&#x6765;&#x8FDE;&#x63A5;&#x786E;&#x5B9A;&#x6570;&#x91CF;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4F46; PEP 3101 &#x5EFA;&#x8BAE;&#x4F7F;&#x7528; str.format() &#x66FF;&#x4EE3; % &#x64CD;&#x4F5C;&#x7B26;&#x3002;</p>
<pre><code>foo = &apos;foo&apos;
bar = &apos;bar&apos;

# It is OK
foobar = &apos;%s%s&apos; % (foo, bar) 
# It is better
foobar = &apos;{0}{1}&apos;.format(foo, bar)
 # It is best
foobar = &apos;{foo}{bar}&apos;.format(foo=foo, bar=bar)
</code></pre><h1 id="vendorizing-dependencies&#x63D0;&#x4F9B;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;">Vendorizing Dependencies(&#x63D0;&#x4F9B;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;)</h1>
<h1 id="runners">Runners</h1>
<h1 id="further-reading&#x66F4;&#x591A;&#x9605;&#x8BFB;">Further Reading(&#x66F4;&#x591A;&#x9605;&#x8BFB;)</h1>
<pre><code>- http://docs.python.org/2/library/
- http://www.diveintopython.net/toc/index.html
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: 3.写出优雅的Python代码">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="3.2.Code Style--代码风格.html" class="navigation navigation-next " aria-label="Next page: 3.2.代码风格">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"3.1.结构化您的工程","level":"1.4.1","depth":2,"next":{"title":"3.2.代码风格","level":"1.4.2","depth":2,"path":"3.写出优雅的Python代码/3.2.Code Style--代码风格.md","ref":"3.写出优雅的Python代码/3.2.Code Style--代码风格.md","articles":[]},"previous":{"title":"3.写出优雅的Python代码","level":"1.4","depth":1,"path":"3.写出优雅的Python代码/README.md","ref":"3.写出优雅的Python代码/README.md","articles":[{"title":"3.1.结构化您的工程","level":"1.4.1","depth":2,"path":"3.写出优雅的Python代码/3.1.Structuring Your Project--结构化您的工程.md","ref":"3.写出优雅的Python代码/3.1.Structuring Your Project--结构化您的工程.md","articles":[]},{"title":"3.2.代码风格","level":"1.4.2","depth":2,"path":"3.写出优雅的Python代码/3.2.Code Style--代码风格.md","ref":"3.写出优雅的Python代码/3.2.Code Style--代码风格.md","articles":[]},{"title":"3.3.阅读好的代码","level":"1.4.3","depth":2,"path":"3.写出优雅的Python代码/3.3.Reading Great Code--阅读好的代码.md","ref":"3.写出优雅的Python代码/3.3.Reading Great Code--阅读好的代码.md","articles":[]},{"title":"3.4.文档","level":"1.4.4","depth":2,"path":"3.写出优雅的Python代码/3.4.Documentation--文档.md","ref":"3.写出优雅的Python代码/3.4.Documentation--文档.md","articles":[]},{"title":"3.5.测试你的代码","level":"1.4.5","depth":2,"path":"3.写出优雅的Python代码/3.5.Testing Your Code--测试你的代码.md","ref":"3.写出优雅的Python代码/3.5.Testing Your Code--测试你的代码.md","articles":[]},{"title":"3.6.日志","level":"1.4.6","depth":2,"path":"3.写出优雅的Python代码/3.6.Logging--日志.md","ref":"3.写出优雅的Python代码/3.6.Logging--日志.md","articles":[]},{"title":"3.7.常见陷阱","level":"1.4.7","depth":2,"path":"3.写出优雅的Python代码/3.7.Common Gotchas--常见陷阱.md","ref":"3.写出优雅的Python代码/3.7.Common Gotchas--常见陷阱.md","articles":[]},{"title":"3.8.选择一个许可","level":"1.4.8","depth":2,"path":"3.写出优雅的Python代码/3.8.Choosing a License--选择一个许可.md","ref":"3.写出优雅的Python代码/3.8.Choosing a License--选择一个许可.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"3.写出优雅的Python代码/3.1.Structuring Your Project--结构化您的工程.md","mtime":"2018-02-15T13:48:56.945Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-02-20T13:31:28.762Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

